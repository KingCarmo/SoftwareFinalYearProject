html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3[ Goal3 == "foo" ] <- NA
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()%>%
Goal3[ Goal3 == "foo" ] <- NA
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text() %>%
Goal3[ Goal3 == "foo" ] <- NA
Goal3 <- Goal3[ Goal3 == "foo" ] <- NA
CombinedGoals <- c(Goal1, Goal2, Goal3)
CombinedGoalsCleaned <- str_replace_all(CombinedGoals, "[ \t\n\r\v\f]" , "")
CombinedGoalsCleaned <-as.numeric(gsub("([0-9]+).*$", "\\1", CombinedGoals))
fctables_wbpg <- read_html("Stoke.html")
library(rvest)
library(stringr)
fctables_wbpg <- read_html("Stoke.html")
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
CombinedGoalsCleaned <-as.numeric(gsub("([0-9]+).*$", "\\1", CombinedGoals))
fctables_wbpg <- read_html("Stoke.html")
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
CombinedGoals <- c(Goal1, Goal2, Goal3)
CombinedGoalsCleaned <-as.numeric(gsub("([0-9]+).*$", "\\1", CombinedGoals))
Goal3 <- Goal3[Goal3 == "foo" ] <- 0
fctables_wbpg <- read_html("Stoke.html")
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal1 <- Goal1[ Goal1 == "foo" ] <- 0
Goal3 <- Goal3[ Goal3 == "foo" ] <- 0
CombinedGoals <- c(Goal1, Goal2, Goal3)
CombinedGoalsCleaned <- str_replace_all(CombinedGoals, "[ \t\n\r\v\f]" , "")
CombinedGoalsCleaned <-as.numeric(gsub("([0-9]+).*$", "\\1", CombinedGoals))
TeamGoals <- as.data.frame(CombinedGoalsCleaned)
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
#players names
PlayerNames <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(".header-title") %>%
html_text()
TeamStats <- as.data.frame(PlayerNames)
View(TeamStats)
View(TeamGoals)
View(TeamGoals)
install.packages("rvest")
library(rvest)
library(stringr)
install.packages("rvest")
install.packages("rvest")
fctables_wbpg <- read_html("https://www.fctables.com/teams/stoke-194901/#team-games-stats")
library(rvest)
library(stringr)
fctables_wbpg <- read_html("https://www.fctables.com/teams/stoke-194901/#team-games-stats")
fctables_wbpg %>%
html_node("title") %>%
html_text()
#players names
PlayerNames <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(".header-title") %>%
html_text()
TeamStats <- as.data.frame(PlayerNames)
#goals per player
Goals <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text() %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
#Adam Federici
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
#Adam Federici
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal1 <- Goal1[ Goal1 == "foo" ] <- 0
#Ashley Williams
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- Goal2[ Goal2 == "foo" ] <- 0
#Benik Afobe
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[4]/div/div/div[2]/div/div[1]') %>%
html_text()
fctables_wbpg <- read_html("Stoke.html")
fctables_wbpg <- read_html("Stoke.html")
#Adam Federici
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal1 <- Goal1[ Goal1 == "foo" ] <- 0
#Ashley Williams
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- Goal2[ Goal2 == "foo" ] <- 0
#Benik Afobe
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[4]/div/div/div[2]/div/div[1]') %>%
html_text()
fctables_wbpg <- read_html("Stoke.html")
#Adam Federici
StokeGoal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
fctables_wbpg <- read_html("Stoke.html")
#Adam Federici
StokeGoal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
StokeGoal1 <- StokeGoal1[ StokeGoal1 == "foo" ] <- 0
#Ashley Williams
StokeGoal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
StokeGoal2 <- StokeGoal2[ StokeGoal2 == "foo" ] <- 0
#Benik Afobe
StokeGoal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[4]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3 <-as.numeric(gsub("([0-9]+).*$", "\\1", CombinedGoals))
Goal3 <-as.numeric(gsub("([0-9]+).*$", "\\1", StokeGoal3))
StokeGoal3 <-as.numeric(gsub("([0-9]+).*$", "\\1", StokeGoal3))
#Bojan Krkic
Goal4 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[5]/div/div/div[2]/div/div[1]') %>%
html_text()
#Bojan Krkic
StokeGoal4 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[5]/div/div/div[2]/div/div[1]') %>%
html_text()
StokeGoal4 <-as.numeric(gsub("([0-9]+).*$", "\\1", StokeGoal4))
remove(Goal3)
remove(Goal4)
StokeAssist3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[4]/div/div/div[2]/div/div[2]') %>%
html_text()
StokeAssist3 <-as.numeric(gsub("([0-9]+).*$", "\\1", StokeAssist3))
install.packages("rvest")
install.packages("rvest")
library(rvest)
library(stringr)
fctables_wbpg <- read_html("Stoke.html")
### Adam Federici ###
StokeGoal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
StokeAssist1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[2]') %>%
html_text()
StokeGoal1 <- StokeGoal1[ StokeGoal1 == "foo" ] <- 0
StokeAssist1 <- StokeAssist1[ StokeAssist1 == "foo" ] <- 0
### Ashley Williams ###
StokeGoal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
StokeAssist2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[2]') %>%
html_text()
StokeGoal2 <- StokeGoal2[ StokeGoal2 == "foo" ] <- 0
StokeAssist2 <- StokeAssist2[ StokeAssist2 == "foo" ] <- 0
### Benik Afobe ###
StokeGoal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[4]/div/div/div[2]/div/div[1]') %>%
html_text()
### Benik Afobe ###
StokeGoal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[4]/div/div/div[2]/div/div[1]') %>%
html_text()
StokeAssist3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[4]/div/div/div[2]/div/div[2]') %>%
html_text()
StokeGoal3 <-as.numeric(gsub("([0-9]+).*$", "\\1", StokeGoal3))
StokeAssist3 <-as.numeric(gsub("([0-9]+).*$", "\\1", StokeAssist3))
### Bojan Krkic ###
StokeGoal4 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[5]/div/div/div[2]/div/div[1]') %>%
html_text()
StokeAssist4 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[5]/div/div/div[2]/div/div[2]') %>%
html_text()
StokeGoal4 <-as.numeric(gsub("([0-9]+).*$", "\\1", StokeGoal4))
StokeAssist4 <-as.numeric(gsub("([0-9]+).*$", "\\1", StokeGoal4))
StokeAssist4 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[5]/div/div/div[2]/div/div[2]') %>%
html_text()
StokeGoal4 <-as.numeric(gsub("([0-9]+).*$", "\\1", StokeGoal4))
StokeAssist4 <-as.numeric(gsub("([0-9]+).*$", "\\1", StokeAssist4))
### Bojan Krkic ###
StokeGoal4 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[5]/div/div/div[2]/div/div[1]') %>%
html_text()
StokeAssist4 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[5]/div/div/div[2]/div/div[2]') %>%
html_text()
StokeGoal4 <-as.numeric(gsub("([0-9]+).*$", "\\1", StokeGoal4))
StokeAssist4 <-as.numeric(gsub("([0-9]+).*$", "\\1", StokeAssist4))
Stoketransfermarkt_wbpg <- read_html("StokeTM.html")
#players names
PlayerNames <- fctables_wbpg %>%
html_nodes(".items") %>%
html_nodes(".odd") %>%
html_text()
#players names
PlayerNamesTM <- fctables_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".items") %>%
html_nodes(".even") %>%
html_text()
#players names
PlayerNamesTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".items") %>%
html_nodes(".even") %>%
html_text()
#players names
PlayerNamesTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".items") %>%
html_nodes(".#128899") %>%
html_text()
#players names
PlayerNamesTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".items") %>%
html_nodes(".128899") %>%
html_text()
#players names
PlayerNamesTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".items") %>%
html_nodes("#128899") %>%
html_text()
#players names
PlayerNamesTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".items") %>%
html_nodes(".spielprofil_tooltip tooltipstered") %>%
html_text()
#players names
PlayerNamesTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".posrela") %>%
html_nodes(".spielprofil_tooltip") %>%
html_text()
#players names
PlayerNamesTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".posrela") %>%
html_nodes(".hide-for-small") %>%
html_nodes(".spielprofil_tooltip") %>%
html_text()
#Players Value
AgeTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".rechts") %>%
html_text()
as.numeric(gsub("([0-9]+).*$", "\\1", AgeTM))
#Players Value
AgeTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".rechts") %>%
html_text()
#Players Value
ValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".rechts") %>%
html_text()
StokeTM <- as.data.frame(PlayerNamesTM, ValueTM)
PlayerNames %>% html_nodes("#yw2 .spielprofil_tooltip") %>% html_text() %>% as.character()
PlayerNames %>% html_nodes("#yw2 .spielprofil_tooltip") %>% html_text()
TransferValue %>% html_nodes(".rechts.hauptlink a") %>% html_text()
#Age
AgeTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zeintriert:nth-child(2)") %>%
html_text()
#Age
AgeTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("tbody.zeintriert:nth-child(2)") %>%
html_text()
StokeTM <- as.data.frame(PlayerNamesTM, ValueTM)
View(StokeTM)
View(StokeTM)
#Age
AgeTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(":nth-child(2)") %>%
html_text()
#Age
AgeTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zentriert:nth-child(2)") %>%
html_text()
#Age
AgeTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zentriert:nth-child(3)") %>%
html_text()
#Players Value
ValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zentriert:nth-child(10)") %>%
html_text()
#Players Value
ValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zentriert:nth-child(9)") %>%
html_text()
#Players Value
ValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zentriert:nth-child(10)") %>%
as.character()%>%
html_text()
#Players Value
ValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zentriert:nth-child(10)") %>%
html_text()
#Players Current Value
CurrentValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zentriert:nth-child(10)") %>%
html_text()
#Players Current Value
CurrentValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zentriert .hauptlink") %>%
html_text()
#Players Current Value
CurrentValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zentriert .rechts") %>%
html_text()
#Players Current Value
CurrentValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".zentriert .rechts") %>%
html_text()
install.packages("rvest")
install.packages("rvest")
#Players Current Value
CurrentValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".hauptlink") %>%
html_text()
install.packages("rvest")
library(rvest)
library(stringr)
Stoketransfermarkt_wbpg <- read_html("StokeTM.html")
#players names
PlayerNamesTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".posrela") %>%
html_nodes(".hide-for-small") %>%
html_nodes(".spielprofil_tooltip") %>%
html_text()
#Players Current Value
CurrentValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".hauptlink") %>%
html_text()
#Age
AgeTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zentriert:nth-child(3)") %>%
html_text()
StokeTM <- as.data.frame(PlayerNamesTM, ValueTM)
#Players Current Value
CurrentValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("tbody.hauptlink") %>%
html_text()
install.packages("rvest")
install.packages("rvest")
#Players Current Value
CurrentValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".")
#Players Current Value
CurrentValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.hauptlink:nth-child(1)") %>%
html_text()
#Players Current Value
CurrentValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.hauptlink:nth-child(0)") %>%
html_text()
#Players Current Value
CurrentValueTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.hauptlink:nth-child(10)") %>%
html_text()
#Nationality
NationTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zentriert:nth-child(4)") %>%
html_text()
#Nationality
NationTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes("td.zentriert") %>%
html_nodes("#title") %>%
html_text()
#Nationality
NationTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".zentriert") %>%
html_nodes("#title") %>%
html_text()
#Nationality
NationTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".zentriert") %>%
html_nodes("#title") %>%
html_attr()
#Nationality
NationTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".zentriert") %>%
html_nodes("#title") %>%
html_attrs()
#Nationality
NationTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".zentriert") %>%
html_nodes("#title") %>%
html_name()
#Nationality
NationTM <- Stoketransfermarkt_wbpg %>%
html_nodes(".responsive-table") %>%
html_nodes(".zentriert") %>%
html_nodes(".img") %>%
html_name()
