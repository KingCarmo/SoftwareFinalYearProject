library(rvest)
library(stringr)
fctables_wbpg <- read_html("stoke.html")
fctables_wbpg %>%
html_node("title") %>%
html_text()
#players names
PlayerNames <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(".header-title") %>%
html_text()
TeamStats <- as.data.frame(PlayerNames)
#goals per player
Goals <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text() %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
#goals per player
Goals <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text() %>%
# html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
# html_text()
Goals
#goals per player
Goals <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text() %>%
# html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
# html_text()
Goals
#goals per player
Goals <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text() %>%
# html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
# html_text()
Goals
#goals per player
Goals <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text() %>%
# html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
# html_text()
as.numeric(gsub("([0-9]+).*$", "\\1", Goals))
#goals per player
Goals <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
#goals per player
Goals <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text() %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
fctables_wbpg1 <- read_html("https://www.fctables.com/teams/stoke-194901/#team-games-stats")
fctables_wbpg1 %>%
html_node("title") %>%
html_text()
#players names
PlayerNames <- fctables_wbpg1 %>%
html_nodes(".player_box") %>%
html_nodes(".header-title") %>%
html_text()
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[4]/div/div/div[2]/div/div[1]') %>%
html_text()
remove(Goals)
c(Goal1, Goal3)
CombinedGoals <- c(Goal1, Goal3) %>%
str_replace_all(stats, "[ \t\n\r\v\f]" , "")
CombinedGoals <- c(Goal1, Goal3) %>%
str_replace_all(stats, "[ \t\n\r\v\f]", )
CombinedGoals <- c(Goal1, Goal3) %>%
str_replace_all(stats, "[ \t\n\r\v\f]")
CombinedGoals <- c(Goal1, Goal3) %>%
str_replace_all(CombinedGoals, "[ \t\n\r\v\f]")
CombinedGoals <- c(Goal1, Goal3) %>%
str_replace_all(Goal1, "[ \t\n\r\v\f]")
CombinedGoals <- c(Goal1, Goal3)
str_replace_all(CombinedGoals, "[ \t\n\r\v\f]")
CombinedGoalsCleaned <- str_replace_all(CombinedGoals, "[ \t\n\r\v\f]" , "")
CombinedGoals <- c(Goal1, Goal2, Goal3)
CombinedGoalsCleaned <- str_replace_all(CombinedGoals, "[ \t\n\r\v\f]" , "")
CombinedGoals <- c(Goal1, Goal3)
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text() < - NA_character_
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text() <- NA_character_
TeamGoals <- as.data.frame(CombinedGoalsCleaned)
View(TeamGoals)
CombinedGoalsCleaned <- str_replace_all(CombinedGoals, "[ \t\n\r\v\f]" , "") %>%
as.numeric(gsub("([0-9]+).*$", "\\1", Goals))
CombinedGoalsCleaned <- str_replace_all(CombinedGoals, "[ \t\n\r\v\f]" , "") %>%
as.numeric(gsub("([0-9]+).*$", "\\1", CombinedGoals))
CombinedGoalsCleaned <- str_replace_all(CombinedGoals, "[ \t\n\r\v\f]" , "")
as.numeric(gsub("([0-9]+).*$", "\\1", CombinedGoals))
CombinedGoalsCleaned <-as.numeric(gsub("([0-9]+).*$", "\\1", CombinedGoals))
TeamGoals <- as.data.frame(CombinedGoalsCleaned)
View(TeamGoals)
CombinedGoals <- c(Goal1:Goal3)
CombinedGoals <- c(Goal1, Goal2, Goal3)
CombinedGoalsCleaned <- str_replace_all(CombinedGoals, "[ \t\n\r\v\f]" , "")
fctables_wbpg <- read_html("Stoke.html")
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text() <- NA_character_
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3[ Goal3 == "foo" ] <- NA
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()%>%
Goal3[ Goal3 == "foo" ] <- NA
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text() %>%
Goal3[ Goal3 == "foo" ] <- NA
Goal3 <- Goal3[ Goal3 == "foo" ] <- NA
CombinedGoals <- c(Goal1, Goal2, Goal3)
CombinedGoalsCleaned <- str_replace_all(CombinedGoals, "[ \t\n\r\v\f]" , "")
CombinedGoalsCleaned <-as.numeric(gsub("([0-9]+).*$", "\\1", CombinedGoals))
fctables_wbpg <- read_html("Stoke.html")
library(rvest)
library(stringr)
fctables_wbpg <- read_html("Stoke.html")
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
CombinedGoalsCleaned <-as.numeric(gsub("([0-9]+).*$", "\\1", CombinedGoals))
fctables_wbpg <- read_html("Stoke.html")
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
CombinedGoals <- c(Goal1, Goal2, Goal3)
CombinedGoalsCleaned <-as.numeric(gsub("([0-9]+).*$", "\\1", CombinedGoals))
Goal3 <- Goal3[Goal3 == "foo" ] <- 0
fctables_wbpg <- read_html("Stoke.html")
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal1 <- Goal1[ Goal1 == "foo" ] <- 0
Goal3 <- Goal3[ Goal3 == "foo" ] <- 0
CombinedGoals <- c(Goal1, Goal2, Goal3)
CombinedGoalsCleaned <- str_replace_all(CombinedGoals, "[ \t\n\r\v\f]" , "")
CombinedGoalsCleaned <-as.numeric(gsub("([0-9]+).*$", "\\1", CombinedGoals))
TeamGoals <- as.data.frame(CombinedGoalsCleaned)
Goal1 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[1]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal2 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[2]/div/div/div[2]/div/div[1]') %>%
html_text()
Goal3 <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(xpath = '//*[@id="team-players"]/div/div[2]/div[3]/div/div/div[2]/div/div[1]') %>%
html_text()
#players names
PlayerNames <- fctables_wbpg %>%
html_nodes(".player_box") %>%
html_nodes(".header-title") %>%
html_text()
TeamStats <- as.data.frame(PlayerNames)
View(TeamStats)
View(TeamGoals)
View(TeamGoals)
