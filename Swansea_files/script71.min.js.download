var websocket=null,websocket_connect=0;function check_is_mobile(){return void 0!==window.orientation}var check_is_mobile_var=check_is_mobile();window.is_mobile=check_is_mobile_var;var window_width=0,mouse_x=null,mouse_y=null,ns=null,session_storage=null,local_storage=null,location_name="eu",language_code=window.navigator.userLanguage||window.navigator.language,ChartJs=function(){},document_height=0,document_width=0,window_height=0,timezone_offset=0,notifications=[];function jquery_loaded_start_1(){if(console.log("jquery-loaded"),$(document).mousemove(function(e){mouse_x=e.pageX,mouse_y=e.pageY}),ns=$.initNamespaceStorage("fctables"),session_storage=ns.sessionStorage,local_storage=ns.localStorage,uid(),check_dont_show_box(),!local_storage.get("lang_info_hide")&&language_code)for(var e in lang_codes)for(var a in lang_codes[e].l){lang_codes[e].l[a]==language_code&&document.location.hostname!=lang_codes[e].host&&$(".lang-info-add").html('<div class="lang-info-box alert alert-warning"><div onclick="lang_info_hide(this)" class="close"><i class="fa fa-times-circle" aria-hidden="true"></i> Close</div>'+lang_codes[e].t+"</div>")}convert_odd(),local_storage.get("odds_format")||$.ajax({url:"/country.php",dataType:"json",cache:!1,minLength:1,data:{},success:function(e){"102"==e.country_id?local_storage.set("odds_format","in"):"231"===e.country_id||"37"===e.country_id?local_storage.set("odds_format","us"):"67"===e.country_id||"106"===e.country_id?local_storage.set("odds_format","uk"):"98"===e.country_id?local_storage.set("odds_format","hk"):"133"===e.country_id?local_storage.set("odds_format","ma"):local_storage.set("odds_format","eu")}}),window_width=$(window).width(),local_storage.set("time_offset",null),null!==(timezone_offset=session_storage.get("time_offset")?parseInt(session_storage.get("time_offset")):null)&&$.cookie("timezone")?(set_start_dates(),set_date_from_timezone()):timezone_check()}var menu_scroll_spy=null;function set_submenu(e){e.find("li a").on("click",function(e){if(void 0!==e.originalEvent){e.preventDefault();var a=this.hash,t=$(this);t.parent().parent().find(".active").removeClass("active"),t.parent().addClass("active"),$("html, body").animate({scrollTop:$(a).offset().top-60},900,function(){})}else console.log("not human")})}var scroll_spy=function(n){var i=n.find("li > a"),o=[],l=!1;this.calculate=function(){console.log("calculate"),$.each(i,function(e,a){a=$(a);var t=$(a.attr("href"));if(0<t.length){var s=t.offset();i[e].elem_offset=s,o.push([s.top,i[e]])}else i[e].elem_offset=null}),o.sort(function(e,a){return e[0]-a[0]}),$("#sub_menu_helper").remove(),$("#submenu-item .sb-wrapper").css("margin-left","0px"),n.find("ul").outerWidth(!0)>$(window).width()&&(l=!0,check_is_mobile()||($("body").append('<div id="sub_menu_helper"><div class="smh-wrapper"><div style="width:'+(n.find("ul").outerWidth(!0)+70)+'px;height:1px;"></div></div></div>'),$("#sub_menu_helper .smh-wrapper").on("scroll",function(){$("#submenu-item .sb-wrapper").css("margin-left",-1*$(this).scrollLeft()+"px")}),$("#submenu-item .sb-wrapper").on("scroll",function(){$("#sub_menu_helper .smh-wrapper").css("margin-left",-1*$(this).scrollLeft()+"px")})))},calculate();var r=$(window).height()/2,d=0,c=0,m=0;return $(window).on("resize",function(){calculate()}),$(window).on("scroll",function(){setTimeout(function(){var e=$(window).scrollTop(),a=e+r,t=e-r;for(var s in o){var i=o[s][1];if(c<a&&i.elem_offset&&d<i.elem_offset.top&&a>i.elem_offset.top||t<m&&i.elem_offset&&d>i.elem_offset.top&&t<i.elem_offset.top)return ee=$(i),ee.parent().parent().find(".active").removeClass("active"),ee.parent().addClass("active"),d=i.elem_offset.top,void(l&&$(n).find(".sb-wrapper").scrollTo(ee))}c=a,m=t},100)}),this};function change_lang_img(e){document.getElementById("lang-image").setAttribute("class","flag flag-"+e)}switch(window.location.hostname){case"pl.fctables.com":change_lang_img(location_name="pl");break;case"it.fctables.com":change_lang_img(location_name="it");break;default:location_name="eu"}var lang_codes=[{host:"pl.fctables.com",l:["pl-pl","pl"],t:'Sprawdź polską wersję językową <img src="/images/blank.gif" class="flag flag-pl" width="16" height="16" />. <a href="#" onclick="change_lang_link(this,\'pl\')">https://pl.fctables.com</a>'},{host:"it.fctables.com",l:["it-it","it"],t:'Passa alla versione italiana <img src="/images/blank.gif" class="flag flag-it" width="16" height="16" />. <a href="#" onclick="change_lang_link(this,\'it\')">https://it.fctables.com</a>'}];function change_lang_link(e,a){var t=$('link[hreflang="'+a+'"]');0<t.length&&(window.location=t.attr("href"))}function lang_info_hide(e){e=$(e),local_storage&&(local_storage.set("lang_info_hide",1),e.parent().parent().remove())}var today_date=null,tomorrow_date=null,yesterday_date=null;function generateUrl(e){if(!e)return"";for(var t=new Array("ą","ś","ż","ź","ć","ę","ń","ł","ó","Ą","Ś","Ż","Ź","Ć","Ń","Ł","Ó","±","ˇ","¶","¦"," "),s=new Array("a","s","z","z","c",",e","n","l","o","A","S","Z","Z","C","N","L","O","a","A","s","S","-"),i=0,n=0;n<t.length;n++){for(;-1!=i;)-1!=(i=e.indexOf(t[n]))&&(a=e.substr(0,i),b=e.substr(i+1,e.length),e=a+s[n]+b);i=0}return e.replace(/[^a-zA-Z0-9_\-]/gi,"").toLowerCase()}function set_start_dates(){var e=new Date;e.setTime(e.getTime()+6e4*e.getTimezoneOffset()-timezone_offset),today_date=e.getDate()+"-"+e.getMonth()+"-"+e.getFullYear(),e=new Date((new Date).getTime()-864e5),yesterday_date=e.getDate()+"-"+e.getMonth()+"-"+e.getFullYear(),e=new Date((new Date).getTime()+864e5),tomorrow_date=e.getDate()+"-"+e.getMonth()+"-"+e.getFullYear();var l=$("#datetime span");a&&clearInterval(a);var a=setInterval(function(){var e=new Date,a=e.getTime()+6e4*e.getTimezoneOffset(),t=new Date(a-timezone_offset),s=(t.getDate(),t.getSeconds());s<10&&(s="0"+s);var i=t.getMinutes();i<10&&(i="0"+i);var n=t.getHours(),o=n+":"+i+":"+s;"us"!=location_name&&"au"!=location_name||(o=formatAMPM(n,i,s)),l.html(t.getDate()+" "+lang.date_months_short[t.getMonth()]+" "+o)},1e3)}function jquery_loaded_start_2(){console.log("jquery loaded 2"),set_games(),setInterval(function(){var t=(new Date).getTime()/1e3+parseInt(local_storage.get("client_deleyed"))/1e3;$(".not_time_ago").each(function(e,a){(a=$(a)).html(timeSince(parseInt(a.attr("data-u"))-t))})},1e3),0==$(".game_page").length&&(websocket_new_connect(),setInterval(function(){websocket_connect||(scores(1),websocket.close(),websocket_new_connect())},1e4),0<$(".live-game").length&&setInterval(function(){live_games_refresh()},6e4),setInterval(function(){tables_refresh()},15e3)),setInterval(function(){getNotification()},11e3),document_height=$(document).height(),window_height=$(window_height).height(),document_width=$(window).width(),$(".fa-share-alt:not(.no_action)").click(function(){share_image(this)});var e=null;$(".psh").hover(function(){var a=$(this);e&&clearTimeout(e),setTimeout(function(){player_hover_stats(a.attr("data-id"),a)},600),e=setTimeout(function(){var e=a.offset();$("#psh_"+a.attr("data-id")).removeClass("hide").css("top",e.top+50+"px").css("left",e.left+"px")},1400)},function(){$(".player_hover_stats_box").addClass("hide"),e&&clearTimeout(e)}),$(".table-panel-box").each(function(e,a){(a=$(a)).find(".tabs li a:not(.link)").click(function(){var e=$(this);table_change(a.attr("data-id"),e,a.find(".table-responsive"),a.attr("data-template"))})}),set_table(),set_tooltip(),check_is_mobile_var||$(".menu ul li.has-submenu").hover(function(){$(this).find(".submenu").show()},function(){$(this).find(".submenu").hide()}),$("[data-toggle='popover']").popover(),check_is_mobile_var||$("#search_top").focus(function(){$(this).animate({width:"500px"},0,function(){})}),$(".collapse").on("shown.bs.collapse",function(){$(this).parent().find('[data-toggle="collapse"] i').addClass("glyphicon-chevron-up").removeClass("glyphicon-chevron-down")}),$(".collapse").on("hidden.bs.collapse",function(){$(this).parent().find('[data-toggle="collapse"] i').addClass("glyphicon-chevron-down").removeClass("glyphicon-chevron-up")}),$("#search_top").blur(function(){$(this).animate({width:"200px"},0,function(){})}),$(".live-icon").effect("pulsate",{times:3},15e3),$(".more-info").click(function(){var e=$(this),a=$(e.attr("data-id"));e.hasClass("active")?(e.removeClass("active"),a.removeClass("show"),a.hide(),$(e.attr("data-full")).removeClass("show")):(e.addClass("active"),a.show(),a.addClass("show"),$(e.attr("data-full")).addClass("show"),check_is_mobile_var&&set_team_box_stats())}),$(".selectpicker").selectpicker(),check_is_mobile_var||$(".sticky").sticky({topSpacing:50}),$(".stats_box:not(.active_tab):not(.active)").addClass("hide"),$.fullscreen.isNativelySupported()||$(".fullscreen").hide(),$(document).bind("fscreenclose",function(e,a,t){$(".fa-compress.active").addClass("fa-expand").removeClass("fa-compress").removeClass("text-danger").removeClass("active")}),find_team_player(),$(".game_playoff div, .game_playoff_hover").hover(function(){var e=$(this);$(".playoff .team_"+e.attr("data-id")).addClass("active")},function(){var e=$(this);$(".playoff .team_"+e.attr("data-id")).removeClass("active")});var i=0;function t(n){0==(n=$(n)).scrollLeft()?n.find(".slide .left").hide():n.find(".slide .left").show(),n.hasScrollBar_horizontal()?n.find(".slide .right").show():n.find(".slide .right").hide(),n.find(".slider-item").click(function(e){e.preventDefault();var a=$(this),t=n.scrollLeft(),s=0,i=n.find(".playoff-slider").width()-n.width();a.hasClass("left")?(a.parent().find(".right").show(),(s=t-150)<0&&(s=0,a.parent().find(".left").hide())):(s=t+150,a.parent().find(".left").show(),i<s&&(s=i,a.parent().find(".right").hide())),n.scrollLeft(s)})}if($("#pollSlider-button").animate({"margin-right":"+=200"}),$(".playoff-container").each(function(e,a){t(a)}).scroll(function(e){var a=$(this),t=a.find(".playoff-slider").width()-a.width(),s=a.scrollLeft();i!=s&&(i=s,a.find(".slide").css("margin-left",s+"px")),a.find(".slide").css("margin-top",120+a.scrollTop()+"px"),s<1?a.find(".left").hide():a.find(".left").show(),s<t?a.find(".right").show():a.find(".right").hide()}),$(window).scroll(function(){$(".playoff-container").find(".slide").css("margin-top",120+$(window).scrollTop()+"px")}),$(window).resize(function(){document_height=$(document).height(),window_height=$(window_height).height(),document_width=$(window).width(),$(".playoff-container").each(function(e,a){t(a)})}),$.cookie("user_logged")){var a=$(".user-logged-menu");a.find(".user_login").html($.cookie("user_login")),a.find(".user-avatar").attr("src","/avatar/"+$.cookie("user")+"/"),$(".user-logged-remove").remove()}$(window).load(updateTables),$(window).bind("resize",updateTables);var s=$("<script>",{type:"text/javascript",src:"/js/push_not3.js"});$("script:first").before(s)}function full_playoff(e){(e=$(e)).prev().hasClass("full")?(e.find("span:eq(1)").addClass("hide"),e.find("span:eq(0)").removeClass("hide"),e.prev().removeClass("full")):(e.find("span:eq(0)").addClass("hide"),e.find("span:eq(1)").removeClass("hide"),e.prev().addClass("full"))}function template_move_results(){$(window).width()<=1200?$("#next_games, #last_games").appendTo($(".overall_stats_box .template_table")):$("#next_games, #last_games").appendTo($("#team_profile_box").parent())}function stripslashes(e){return(e+"").replace(/\\(.?)/g,function(e,a){switch(a){case"\\":return"\\";case"0":return"\0";case"":return"";default:return a}})}document.addEventListener("chart-loaded",function(e){var o;console.log("chart loaded"),o=window.jQuery,ChartJs.prototype.respChart=function(a,t,s,e){var i=a.get(0).getContext("2d"),n=o(a).parent();!function(){a.attr("width",o(n).width());var e={responsive:!1,maintainAspectRatio:!1,animation:!check_is_mobile_var};switch(t){case"Line":new Chart(i).Line(s,e);break;case"Doughnut":new Chart(i).Doughnut(s,e);break;case"Pie":draw(a.get(0),s);break;case"Bar":new Chart(i).Bar(s,e);break;case"Radar":new Chart(i).Radar(s,e);break;case"PolarArea":new Chart(i).PolarArea(s,e)}}()},o.ChartJs=new ChartJs,o.ChartJs.Constructor=ChartJs,(e=document.createEvent("Event")).initEvent("site-build",!0,!0),setTimeout(function(){document.dispatchEvent(e)},200)},!1);var active_game_info_timeout=null;function set_games(){$("blink").blink(),$(".game_table_hover:not(.set_action)").addClass("set_action").hover(function(){var e=$(this),a=e.find(".name .home").attr("data-id"),t=e.find(".name .away").attr("data-id");$('.table-panel-box[data-id="'+e.attr("data-sid")+'"] table').find('tr[data-id="'+a+'"], tr[data-id="'+t+'"]').addClass("select_table_teams")},function(){var e=$(this);$('.table-panel-box[data-id="'+e.attr("data-sid")+'"] table').find(".select_table_teams").removeClass("select_table_teams")}),set_tooltip(),set_date_from_timezone(),check_is_mobile_var||$(".game_hover_info:not(.set_action)").addClass("set_action").hover(function(){var e=$(this);active_game_info_timeout&&clearTimeout(active_game_info_timeout),active_game_info_timeout=setTimeout(function(){set_game_info(e.parent().attr("data-id"),e.parent())},e.hasClass("fast")?50:500)},function(){active_game_info_timeout&&clearTimeout(active_game_info_timeout),$("#game_hover_info").remove()})}function set_game_info(e,a){$("#game_hover_info").remove(),$.ajax({url:"//data.fctablesmedia.com/cache/game_info_"+e+".json",dataType:"json",cache:!1,data:{},success:function(e){var a="top: "+(mouse_y+10)+"px;left: "+(mouse_x-160)+"px",t="-";"not_started"!=e.info.st&&(t=e.info.rh+"-"+e.info.ra);var s='<div class="ghgame_name"><div class="row"><div class="col-xs-4 text-center">'+e.info.teams[0]+'</div><div class="col-xs-2">'+t+'</div><div class="col-xs-4 text-center">'+e.info.teams[1]+"</div></div></div>";if(0==e.incident.length)var n='<div class="game_hover_info_container" style="'+a+'" id="game_hover_info"><div class="game_hover_info_inner">'+s+'<div class="row"><div class="col-xs-12 text-center">'+lang.game_no_incident_info+"</div></div></div></div>";else{n='<div class="game_hover_info_container" style="'+a+'" id="game_hover_info"><div class="game_hover_info_inner">';if(n+=s,$.each(e.incident,function(e,a){if(8!=a.incident_id){var t="";1!=a.incident_id&&2!=a.incident_id&&3!=a.incident_id||(t=" bold");var s="";if(a.name&&(s=a.name),"home"==a.type){var i="";8==a.incident_id?i=' <span class="sub_out">'+a.name2+"</span>":a.name2&&(i=' <span class="assist">('+a.name2+")</span>"),n+='<div class="incident"><div class="m'+t+'">'+a.min+'\'</div><div class="iname"><div class="game_icon type_'+a.incident_id+'"></div> '+s+i+"</div></div>"}else{i="";8==a.incident_id?i='<span class="sub_out">'+a.name2+"</span> ":a.name2&&(i='<span class="assist">('+a.name2+")</span> "),n+='<div class="incident away"><div class="m'+t+'">'+a.min+'\'</div><div class="iname">'+i+s+' <div class="game_icon type_'+a.incident_id+'"></div></div></div>'}}}),e.info.stats&&e.info.stats.home&&e.info.stats.home[4])for(var i in n+='<div class="ghgame_name">Stats</div>',e.info.stats.home){var o=e.info.stats.home[i],l=e.info.stats.away[i];4!=i&&17!=i||(o+="%",l+="%"),n+='<div class="row"><div class="col-xs-4 text-center">'+o+'</div><div class="col-xs-4 text-center stat_name">'+stats_names[i]+'</div><div class="col-xs-4 text-center">'+l+"</div></div>"}n+="</div></div>"}$("body").append(n)},complete:function(){},beforeSend:function(){}})}function fullscreen_click(e){(e=$(e)).hasClass("fa-expand")?(e.removeClass("fa-expand").addClass("fa-compress").addClass("active"),e.attr("data-fullscreen")?$(e.attr("data-fullscreen")).fullscreen():e.parent().parent().parent().parent().fullscreen()):$.fullscreen.exit()}function set_table(){$(".table_live_game").hover(function(){var e=$(this);e.parent().parent().addClass("selected_hover_live_game"),$('tr[data-id="'+e.attr("data-opp")+'"]').addClass("selected_hover_live_game")},function(){$(".selected_hover_live_game").removeClass("selected_hover_live_game")}),$(".table:not(.no_click) tbody tr").click(function(e){var a=$(this),t=a.parent().find(".no_focus");0<t.length&&!a.hasClass("no_focus")||"INPUT"==$(e.target).prop("tagName")?t.removeClass("no_focus"):(a.parent().find("tr").addClass("no_focus"),a.removeClass("no_focus"))}),$(".stage-table .sortt:not(.added)").each(function(e,_){(_=$(_)).click(function(){var e=!0;"desc"==_.attr("data-last-order")&&(e=!1);var a=_.parent().parent();a.find(".sortt").attr("data-last-order","asc");var t=a.parent();t.find(".adsbygoogle").parent().parent().remove();var s=t.find("tbody tr"),r=0,i=t.find("th[rowspan]").length;r+=i;var d=!1;_.attr("data-col-index-force")&&(r=parseInt(_.attr("data-col-index-force")),d=!0);var c=-1,m=1;e&&(_.attr("data-last-order","desc"),m=-(c=1)),s.sort(function(e,a){if(d)var t=r;else{var s=parseInt(_.index());t=r+s}var i=$(e).find("td:eq("+t+")"),n=$(a).find("td:eq("+t+")");if(i.attr("data-sort-index"))var o=parseFloat(i.attr("data-sort-index")),l=parseFloat(n.attr("data-sort-index"));else o=parseFloat(i.text()),l=parseFloat(n.text());return o||(o=-999999),l||(l=-999999),o<l?c:l<o?m:0}),s.each(function(e,a){t.find("tbody").append(a)})})}).addClass("added"),$(".fullscreen:not(.added_fullscreen)").click(function(){fullscreen_click(this)}).addClass("added_fullscreen")}function set_tooltip(){$('[data-toggle="tooltip"]:not(.tooltip_setup)').tooltip({container:"body"}).addClass("tooltip_setup")}var more_games_page=[];function more_games(a,t,s,i,n){a=$(a),more_games_page[t+"_"+s+"_"+i]||(more_games_page[t+"_"+s+"_"+i]=2),$.ajax({url:"/xml/games/",dataType:"html",cache:!0,data:{template_id:t,season_id:s,type:i,page:more_games_page[t+"_"+s+"_"+i],lang_id:language_id},success:function(e){0==$(e).filter(".game").length&&a.remove(),n.append(e),more_games_page[t+"_"+s+"_"+i]++,set_games()},complete:function(){a.find(".loading").remove()},beforeSend:function(){a.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />')}})}function profile_tab(e,a){for(var t=e=$(e),s=0;!t.hasClass("tab")&&s<10;)t=t.parent(),s++;"undefined"!=typeof event&&event.which&&(check_h2h_download_checking=!1),t.parent().find(".active_tab").removeClass("active_tab"),t.addClass("active_tab");var i=!0;"undefined"!=typeof scroll_download&&scroll_download||e.attr("data-tabs_disabled")?i=!1:$(".stats_box").addClass("hide"),$("."+e.attr("data-id")+"_box").removeClass("hide");var n="";if(e.attr("data-h2h")&&(n="h2h_"),n+=e.attr("data-id"),ga("send","event",n,"ajax",window.location.href),console.log("h"+e.attr("data-h2h")),e.attr("data-h2h")){var o={lang_id:language_id,team_a_id:h2h_team_a_id,team_b_id:h2h_team_b_id,stages_id_a:stages_team_a_id,stages_id_b:stages_team_b_id};"schedule"==e.attr("data-id")?download_contest(a,"/xml/h2h_schedule/",o):"games_stats"==e.attr("data-id")?download_contest(a,"/xml/h2h_match_stats/",o):"odds_stats"==e.attr("data-id")?download_contest(a,"/xml/h2h_odds_stats/",o):"goals_stats"==e.attr("data-id")?download_contest(a,"/xml/h2h_goals_stats/",o):"form_stats"==e.attr("data-id")&&download_contest(a,"/xml/h2h_forms/",o)}else if("undefined"!=typeof team_id){var l={lang_id:language_id,team_id:team_id,stages_id:stages_list_id,template_id:template_id,seasons_id:seasons_id};"players"==e.attr("data-id")?download_contest(a,"/xml/team_players/",l):"schedule"==e.attr("data-id")?download_contest(a,"/xml/team_schedule/",l):"games_stats"==e.attr("data-id")?download_contest(a,"/xml/team_match_stats/",l):"odds_stats"==e.attr("data-id")?download_contest(a,"/xml/team_odds_stats/",l):"form_stats"==e.attr("data-id")&&download_contest(a,"/xml/team_form_stats/",l)}a&&i&&$("html, body").animate({scrollTop:$(a).offset().top-40},200)}function download_contest(a,e,t){console.log("download"),$.ajax({url:e,dataType:"html",cache:!0,data:t,success:function(e){a.html(e),void 0!==menu_scroll_spy&&menu_scroll_spy&&menu_scroll_spy.calculate()},complete:function(){a.find(".loading").remove()},beforeSend:function(){a.html('<div class="loading text-center"><img src="/images/ajax-loader2.gif" alt="" /></div>')}})}var switched=!1,updateTables=function(){};function splitTable(e){var a="";e.hasClass("fc")&&(a=" fc"),e.wrap("<div class='table-wrapper'></div>");var t=e.clone();t.removeClass("responsive"),e.closest(".table-wrapper").append(t),t.wrap("<div class='pinned "+a+"' />"),e.wrap("<div class='scrollable' />"),e.parent().prepend('<div class="fade_obj"/>')}function unsplitTable(e){e.closest(".table-wrapper").find(".pinned").remove(),e.unwrap(),e.unwrap()}function custom_tooltip_chart(e){if(e){var a=$(e.chart.canvas).parent();a.find(".chartjs-tooltip-own").remove();var t=e.text.split(":");if(!(t.length<2)){var s="<span>"+t[0].trim()+"</span> : <span><b>"+t[1].trim()+"</b></span>";return $('<div class="chartjs-tooltip-own" style="top:'+e.x+"px;left:"+e.y+'px">'+s+"</div> ").prependTo(a),e}}else $(event.target).parent().find(".chartjs-tooltip-own").remove()}function draw(c,e){var m=c.getContext("2d"),_=c.width/2,h=c.height/2,f=new Chart(m).Pie(e,{showTooltips:!0,responsive:!1,animation:!1,customTooltips:custom_tooltip_chart}),u=f.outerRadius;function a(){for(var e=0;e<f.segments.length;e++){m.fillStyle=getTextColor(f.segments[e].fillColor);var a=c.width/8;a<14&&(a=14),18<a&&(a=18);var t="";$(c).attr("data-percent")&&(t="%"),m.font=a+"px Arial";var s=f.segments[e].value,i=f.segments[e].startAngle,n=i+(f.segments[e].endAngle-i)/2,o=u/2*Math.cos(n)+_,l=u/2*Math.sin(n)+h,r=m.measureText(s).width/2,d=a/4;if(0==s&&2<f.segments.length)return;m.fillText(s+t,o-r,l+d)}}Chart.helpers.bindEvents(f,["mouseout"],function(e){"mouseout"!==e.type||a()}),a()}function getTextColor(e){switch(e){case"pink":default:return"white";case"blue":return"black"}}function show_login_modal(){return $("#login_modal").remove(),html='<div id="login_modal" class="modal fade" tabindex="9999" style="z-index:99999" role="dialog" aria-hidden="true">',html+='<div class="modal-dialog">',html+='    <div class="modal-content">',html+='        <div class="modal-header header">',html+='            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>',html+='            <h3 class="modal-title">Login</h3>',html+="        </div>",html+='        <div class="modal-body"><img src="/images/ajax-loader-big.gif" /></div>',html+='        <div class="modal-footer">',html+='            <button class="btn btn-warning btn-sm" onclick="$(\'#login_modal\').modal(\'hide\')" aria-hidden="true">'+lang.close_window+"</button></div></div></div></div> ",$("body").append(html),$("#login_modal").modal("show"),$.ajax({url:"/user/login_form/",dataType:"html",cache:!0,data:{},success:function(e){$("#login_modal .modal-body").html(e)}}),!1}function show_alert(e,a){var t=lang.alert_title;return a&&(t=a),$("#error_modal").remove(),html='<div id="error_modal" class="modal fade" tabindex="999" role="dialog" aria-hidden="true">',html+='<div class="modal-dialog">',html+='    <div class="modal-content">',html+='        <div class="modal-header header">',html+='            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>',html+='            <h3 class="modal-title">'+t+"</h3>",html+="        </div>",html+='        <div class="modal-body">'+e+"</div>",html+='        <div class="modal-footer">',html+='            <button class="btn btn-warning btn-sm" onclick="$(\'#error_modal\').modal(\'hide\')" aria-hidden="true">'+lang.close_window+"</button></div></div></div></div> ",$("body").append(html),$("#error_modal").modal("show"),!1}function game(e){window.location.href="/game/"+e+"/"}function go_to_season(e){e=$(e),window.location.href=e.attr("data-url")+e.find("option:selected").attr("data-url")}function playoff_games(e,a){$(".playoff_games").addClass("hide"),$('.playoff_games[data-id="'+e+'"]').removeClass("hide")}var h2h_selected=[];function h2h(e){var a=(e=$(e)).parent().parent(),t=$.inArray(a.attr("data-id"),h2h_selected);-1==t?h2h_selected.length<2?h2h_selected.push(a.attr("data-id")):(e.prop("checked",!1),show_alert(lang.h2h_already2)):h2h_selected.splice(t,1);var s=h2h_selected.length;1==s?$("body").append('<div class="h2h_footer label label-md label-primary">'+lang.h2h_1+"</div>"):2==s?$(".h2h_footer").html(lang.h2h_2+'<br /> <a onclick="return h2h_go(this)" class="btn btn-success btn-md">'+lang.click_here+'<i class="glyphicon glyphicon-chevron-right"></i></a>'):0==s&&$(".h2h_footer").remove()}function h2h_go(){window.location.href="/h2h_redirect/?a="+h2h_selected[0]+"&b="+h2h_selected[1]+"&force=1"}function set_team_box_stats(e){if("none"==$(".team_stats").css)return!1;e?($.ChartJs.respChart($(".gamesb"),"Pie",games_ab),$.ChartJs.respChart($(".goalsb"),"Pie",goals_ab),$.ChartJs.respChart($(".under_over_15b"),"Pie",uo15_ab),$.ChartJs.respChart($(".under_over_25b"),"Pie",uo25_ab),0<$(".possesionb").length&&($.ChartJs.respChart($(".possesionb"),"Pie",possession_ab),0<$(".shotsb").length&&$.ChartJs.respChart($(".shotsb"),"Pie",shots_ab),0<$(".passb").length&&$.ChartJs.respChart($(".passb"),"Pie",pass_ab),$.ChartJs.respChart($(".cardsb"),"Pie",cards_ab))):(0<$(".games").length&&($.ChartJs.respChart($(".games"),"Pie",games_a),$.ChartJs.respChart($(".goals:eq(0)"),"Pie",goals_a),$.ChartJs.respChart($(".under_over_15"),"Pie",uo15_a),$.ChartJs.respChart($(".under_over_25"),"Pie",uo25_a)),0<$(".possesion").length&&($.ChartJs.respChart($(".possesion"),"Pie",possession_a),0<$(".shots").length&&$.ChartJs.respChart($(".shots"),"Pie",shots_a),0<$(".pass").length&&$.ChartJs.respChart($(".pass"),"Pie",pass_a),$.ChartJs.respChart($(".cards"),"Pie",cards_a)))}var last_type="overall",last_type2=null;function draw_margin_goals(){$.ChartJs.respChart($("#margin-goals-bar"),"Bar",margin_goals)}function draw_first_half(e,a){var t="#first-half-result";e&&(t="#"+e),$.ChartJs.respChart($(t),"Pie",a)}function share(e){e=$(e);var a=$("#share_modal .share-image canvas").get(0).toDataURL("image/png",1);"email"==e.attr("data-id")?0<$("#share-email-modal").length?$("#share-email-modal").modal("show"):$.ajax({url:"/xml/send_share_email/",dataType:"html",cache:!0,data:{},success:function(e){$("body").append(e),$("#share-email-modal").modal("show"),$("#share-email-modal .attach").attr("src",a)},complete:function(){e.find(".loading").remove()},beforeSend:function(){e.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />')}}):"twitter"==e.attr("data-id")?$.ajax({url:"/xml/share_image/",dataType:"json",cache:!0,method:"POST",data:{image:a},success:function(e){e&&e.image&&e.image.image_link&&(window.location.href="https://twitter.com/intent/tweet?text="+e.image.image_link)},complete:function(){e.find(".loading").remove()},beforeSend:function(){e.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />')}}):"facebook"==e.attr("data-id")&&$.ajax({url:"/xml/share_image/",dataType:"json",cache:!0,method:"POST",data:{image:a},success:function(e){e&&e.image&&e.image.image_link&&$.getScript("//connect.facebook.net/en_US/sdk.js",function(){FB.init({appId:"1007493516044195",version:"v2.7"}),FB.ui({method:"share",name:"Facebook Dialogs",href:$(location).attr("href"),link:$(location).attr("href"),picture:e.image.image_link,caption:"",description:"Football stats"},function(e){e&&e.post_id})})},complete:function(){e.find(".loading").remove()},beforeSend:function(){e.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />')}})}function odds_format(e){event.preventDefault(),$("#odds-format-modal").remove(),$.ajax({url:"/xml/odds_format/",dataType:"html",cache:!1,data:{format:local_storage.get("odds_format")},success:function(e){$("body").append(e),$("#odds-format-modal").modal("show")}})}function change_language_box(e){event.preventDefault();var a=$("#lang_box");a.hasClass("hide")?a.removeClass("hide"):a.addClass("hide")}function change_timezone_form(e){e=$(e);$.ajax({url:"/xml/settings/",dataType:"html",cache:!1,data:{type:"timezone"},success:function(e){$("#settings-modal").remove(),$("body").append(e),$("#settings-modal").modal("show")},complete:function(){e.find(".loading").remove()},beforeSend:function(){e.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />')}})}var last_table_updated=(new Date).getTime();function tables_refresh(){var e=(new Date).getTime()-last_table_updated;if(last_table_updated&&6e4<e)var a="//data.fctablesmedia.com/cache/tables_all.json";else a="//data.fctablesmedia.com/cache/tables.json";$.ajax({url:a,dataType:"json",cache:!1,data:{},success:function(e){last_table_updated=(new Date).getTime(),$.each(e.stages,function(e,a){var n=$("#table_stage_"+a.id);if(0<n.length){console.log("table jest");var o=[];$.each(n.find("tbody tr"),function(e,a){a=$(a).find("td:eq(0)"),o[o.length]=[a.attr("class"),a.attr("data-original-title")]}),$.each(a.table,function(e,a){var t=n.find('tr[data-id="'+a.t+'"]');if(0<t.length){var s=t.find("td"),i=parseInt(s.eq(0).html());s.eq(0).html(a.pos),i!=a.pos&&s.eq(0).attr("class",o[a.pos-1][0]).attr("data-title",o[a.pos-1][1]).attr("data-original-title",o[a.pos-1][1]).tooltip(),table_col_change(t.find(".table_games"),a.g),table_col_change(t.find(".points"),a.pts),table_col_change(t.find(".wins"),a.w),table_col_change(t.find(".draws"),a.d),table_col_change(t.find(".defeits"),a.de),table_col_change(t.find(".goals"),a.gf),table_col_change(t.find(".goals_d"),a.gl),table_col_change(t.find(".goals_diff"),a.gs)}});var t=n.find("tbody tr");t.sort(function(e,a){return parseInt($(e).find("td:eq(0)").text())-parseInt($(a).find("td:eq(0)").text())}),t.each(function(e,a){n.find("tbody").append(a)})}})}}),set_tooltip()}function table_col_change(e,a){parseInt(e.html())!=a&&(e.html(a),e.addClass("change"),remove_change_sec(e))}function live_games_refresh(){$.ajax({url:"/xml/live_matches/?lang_id="+language_id,dataType:"html",cache:!1,data:{},success:function(e){var a=$(e).filter(".live-game");$.each(a,function(e,a){a=$(a),0==$("#lg_"+a.attr("data-id")).length&&($("#live-games-box").append(a),!0)}),$("#live-games-box .live-game").sort(function(e,a){e=$(e),a=$(a);var t=status_check(e.attr("data-status")),s=status_check(a.attr("data-status"));return e.attr("data-status")==a.attr("data-status")?parseInt(e.attr("data-time"))-parseInt(a.attr("data-time")):t-s}).each(function(e,a){$(a).parent().append(a)})}})}function status_check(e){return"started"==e?1:"finished"==e?2:"notstarted"==e?3:4}var last_scores_updated=(new Date).getTime();function scores(e){var a=new Date,t=a.getTime()+6e4*a.getTimezoneOffset();if(timezone_offset)var s=new Date(t-timezone_offset);else s=new Date;var i=(new Date).getTime()-last_scores_updated;if(e||last_scores_updated&&2e4<i)var n="//data.fctablesmedia.com/cache/scores_30m_"+language_id+".json?_id="+Math.ceil(s.getTime()/1e3);else n="//data.fctablesmedia.com/cache/scores_"+language_id+".json?_id="+Math.ceil(s.getTime()/1e3);$.ajax({url:n,dataType:"json",cache:!0,data:{},success:function(e){refresh_scores(e)}}),set_tooltip()}function remove_change_sec(e){setTimeout(function(){e.removeClass("change")},1e4)}function send_share_email(e){e=$(e);var a=$("#share-email-form").serialize();$('#share-email-form input[name="sender"]').val()?$('#share-email-form input[name="title"]').val()?$('#share-email-form input[name="email"]').val()?(a+="&image="+$("#share_modal .share-image canvas").get(0).toDataURL("image/png",1),$.ajax({url:"/xml/send_share_email2/?lang_id="+language_id,dataType:"json",method:"POST",cache:!1,data:a,success:function(e){1==e.ok?($("#share-email-modal").modal("hide"),$("#share_modal").modal("hide"),$.Notification.notify("success","top left",lang.share_email_sent_title,lang.share_email_sent_info)):e.error?show_alert(e.error):show_alert("Error with send email")},complete:function(){e.find(".loading").remove()},beforeSend:function(){e.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />')}})):alert(lang.share_no_email):alert(lang.share_no_title):alert(lang.share_no_sender)}function share_image(e){$.fullscreen.exit();var a=(e=$(e)).parent().parent().parent().parent(),t='<div id="share_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">';t+='<div class="modal-dialog modal-full"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>',t+='<h4 class="modal-title" id="share_modal">Share</h4></div>',t+='<div class="modal-body text-center"><div class="alert alert-success">'+lang.share_info+"</div>",t+='<div class="row"><div class="col-xs-12 share-portal"><a download="screen_fctables_com.jpg" data-id="disk" class="btn btn-lg download_image btn-success"><span class="glyphicon glyphicon-save"></span> '+lang.share_save+'</a><div onclick="share(this)" data-id="email" class="btn btn-lg btn-warning"><span class="fa fa-envelope"></span> '+lang.share_email+'</div><div onclick="share(this)" data-id="facebook" class="btn btn-lg btn-primary"><span class="fa fa-facebook-official"></span> '+lang.share_facebook+'</div><div onclick="share(this)" data-id="twitter" class="btn btn-lg btn-info"><span class="fa fa-twitter-square"></span> '+lang.share_twitter+"</div></div></div>",t+='<div class="share-image"><img src="/images/ajax-loader2.gif" alt="" /></div></div><div class="modal-footer">',t+='<button type="button" class="btn btn-default btn-danger waves-effect" data-dismiss="modal">'+lang.close+"</button>",t+="</div></div></div></div>",$("#share-email-modal").remove(),$("#share_modal").remove(),$("body").append(t),$("#share_modal").modal("show"),$("body").append('<div class="hide" id="share_tmp"></div>'),$("#share_tmp").append(a.clone());var s="/html2canvasproxy.php";a.attr("id")&&-1!=a.attr("id").search("table_")&&(s=""),$.getScript("/js/html2canvas.min.js",function(){html2canvas(a,{proxy:s,onrendered:function(e){var a=e.getContext("2d"),t=new Image;t.onload=function(){a.drawImage(t,e.width-t.width,e.height-t.height)},t.src="/images/logo_html2canvas.png",$(".share-image").html("").append(e),$("#share_modal .download_image").attr("href",$("#share_modal .share-image canvas").get(0).toDataURL("image/png",1)),$(".share-image").find("canvas").addClass("share-image-canvas")}})})}function draw_under_over(e,a){$.ChartJs.respChart($(e),"Doughnut",a)}function draw_htft(){$.ChartJs.respChart($("#htft_canvas"),"Bar",ht_ft)}function draw_asianhandicap(e,a){$.ChartJs.respChart(e,"Doughnut",a)}function draw_team_form(e,t){$.ChartJs.respChart($(e),"Line",t,{scaleShowLabels:!1,pointHitDetectionRadius:3,tooltipTemplate:function(e){var a=t.labels.indexOf(e.label);return t.opponents[a]}})}function show_season_player(e){var a=$(e).find("button");0<a.find(".glyphicon-minus").length?(a.find(".glyphicon").removeClass("glyphicon-minus").addClass("glyphicon-plus"),$(".player_season_"+a.attr("data-id")).addClass("hide")):(a.find(".glyphicon").addClass("glyphicon-minus").removeClass("glyphicon-plus"),$(".player_season_"+a.attr("data-id")).removeClass("hide"))}function show_full_squad(e){(e=$(e)).parent().find(".btn").addClass("hide").not(e).removeClass("hide"),e.hasClass("hide_button")?e.parent().parent().find(".squad_box").addClass("hidden-xs").addClass("hidden-sm"):e.parent().parent().find(".squad_box").removeClass("hidden-xs").removeClass("hidden-sm")}function same_games_stats(e,a,t,s,i){s=$(s),ga("send","event","stats","ajax",window.location.href),s.parent().find(".label-success").removeClass("label-success").addClass("label-primary"),s.addClass("label-success").removeClass("label-primary"),$.ajax({url:"/xml/same_games_stats/",dataType:"html",cache:!0,data:{teama:e,teamb:a,template:t,type_home:s.attr("data-home"),type:s.attr("data-type"),lang_id:language_id},success:function(e){i.html(e)},complete:function(){i.find(".loading").remove()},beforeSend:function(){i.html('<div class="loading text-center"><img src="/images/ajax-loader-big.gif" alt="" /><br />'+lang.ajax_loading+"</div")}})}function team_stats_h2h(e,a,t,s,i,n){(i=$(i)).parent().find(".label-success").removeClass("label-success").addClass("label-primary"),i.addClass("label-success").removeClass("label-primary"),ga("send","event","team_stats_h2h","ajax",window.location.href),$.ajax({url:"/xml/team_stats_h2h/",dataType:"html",cache:!0,data:{teama:e,teamb:a,stagea:t,stageb:s,type_home:i.attr("data-home"),type:i.attr("data-type"),lang_id:language_id},success:function(e){n.html(e),"goals_margin"==i.attr("data-type")?draw_margin_goals():"team_box"==i.attr("data-type")?set_team_box_stats():"first_half_results"==i.attr("data-type")?(draw_first_half("first-half-result-a",first_half_result_a),draw_first_half("first-half-result-b",first_half_result_b)):"under_over"==i.attr("data-type")?(draw_under_over($("#under_over_canvas_a"),under_over_canvas_a),draw_under_over($("#under_over_canvas_b"),under_over_canvas_b)):"team_stats"==i.attr("data-type")?(set_team_box_stats(),set_team_box_stats("b")):"asian_handicap"==i.attr("data-type")&&(draw_asianhandicap($("#canvas_asia_handicap_a"),asia_handicap_canvas_a),draw_asianhandicap($("#canvas_asia_handicap_b"),asia_handicap_canvas_b)),set_tooltip()},complete:function(){n.find(".loading").remove()},beforeSend:function(){n.html('<div class="loading text-center"><img src="/images/ajax-loader-big.gif" alt="" /><br />'+lang.ajax_loading+"</div")}})}function team_stats(a,e,t,s,i){(t=$(t)).parent().find(".label-success").removeClass("label-success").addClass("label-primary"),t.addClass("label-success").removeClass("label-primary"),ga("send","event","team_stats","ajax",window.location.href),$.ajax({url:"/xml/team_stats/",dataType:"html",cache:!0,data:{team_id:a,seasons_list:e,type_home:t.attr("data-home"),type:t.attr("data-type"),lang_id:language_id,template_id:i},success:function(e){s.html(e),"goals_margin"==t.attr("data-type")?draw_margin_goals():"team_box"==t.attr("data-type")?set_team_box_stats():"first_half_result"==t.attr("data-type")?draw_first_half(!1,first_half_result):"form_box"==t.attr("data-type")?draw_team_form($("#form-chart-"+a),form_chart_data):"under_over"==t.attr("data-type")?draw_under_over($("#under_over_canvas"),under_over_canvas):"htft"==t.attr("data-type")?draw_htft():"asiahandicap"==t.attr("data-type")&&draw_asianhandicap($("#canvas_asia_handicap"),asia_handicap_canvas),set_tooltip()},complete:function(){s.find(".loading").remove()},beforeSend:function(){s.html('<div class="loading text-center"><img src="/images/ajax-loader-big.gif" alt="" /><br />'+lang.ajax_loading+"</div")}})}function change_team_template(e){(e=$(e)).attr("data-id")?window.location.href="?template_id="+e.attr("data-id"):e.attr("data-url")&&(window.location.href=e.attr("data-url"))}function table_change_participant(e,a,t,s,i){i||(i=null),(t=$(t)).parent().find(".label-success").removeClass("label-success").addClass("label-primary"),t.addClass("label-success").removeClass("label-primary"),ga("send","event","table_participant","ajax",window.location.href),$.ajax({url:"/xml/table_participant/",dataType:"html",cache:!0,data:{template_id:e,season_id:a,type_home:t.attr("data-home"),type:t.attr("data-type"),lang_id:language_id,team_id:i,limit:t.attr("data-limit")?t.attr("data-limit"):10},success:function(e){s.html($(e).find(".table-responsive table"))},complete:function(){s.find(".loading").remove()},beforeSend:function(){s.html('<div class="loading text-center"><img src="/images/ajax-loader-big.gif" alt="" /><br />'+lang.ajax_loading+"</div")}})}function home_all_tables(a){a=$(a),ga("send","event","home_all_tables","ajax",window.location.href);var t=$("#home_tables_box");$.ajax({url:"/xml/home_tables_u/",dataType:"html",cache:!0,data:{lang_id:language_id},success:function(e){scroll_to($("#home_tables_box")),t.html(e),set_table(),a.remove()},complete:function(){t.find(".loading").remove()},beforeSend:function(){t.append('<div class="loading text-center"><img src="/images/ajax-loader-big.gif" alt="" /><br />'+lang.ajax_loading+"</div")}})}function table_change(e,t,a,s){if((t=$(t)).attr("data-type")){var i=null;if(t.attr("data-short")&&(i=t.attr("data-short")),t.parent().parent().parent().parent().find("li.active_tab").removeClass("active_tab"),t.parent().parent().parent().addClass("active_tab"),"last"!=t.attr("data-type")&&(last_type=t.attr("data-type")),"last"!=t.attr("data-type2")&&(last_type2=t.attr("data-type2")),t.attr("data-type")){a||(a=t.find(".table-responsive"));var n=!1;a.parent().find(".label-table-type span").removeClass("label-success").addClass("label-primary").each(function(e,a){(a=$(a)).attr("data-home")==t.attr("data-home")&&(a.addClass("label-success"),n=!0)}),"average_goals"==last_type||"who_scored_first"==last_type||"corners_wide"==last_type2?a.parent().find(".label-table-type").hide():a.parent().find(".label-table-type").show(),n||a.parent().find(".label-table-type span").eq(0).addClass("label-success"),$.ajax({url:"/xml/table_type/",dataType:"html",cache:!0,data:{id:e,template:s,type:last_type,type_home:t.attr("data-home"),type2:last_type2,lang_id:language_id,short:i},success:function(e){a.html(e),set_tooltip(),set_table(),switched=!1,updateTables()},complete:function(){a.find(".loading").remove()},beforeSend:function(){a.html('<div class="loading text-center"><img src="/images/ajax-loader-big.gif" alt="" /><br />'+lang.ajax_loading+"</div")}})}}}function schedule_round(e,a,t){var s=(e=$(e)).parent().parent().parent().parent().parent().parent().find(".schedule_item");return e.parent().parent().find(".active").removeClass("active"),e.addClass("active"),ga("send","event","schedule_round","ajax",window.location.href),$.ajax({url:"/xml/schedule_round/",dataType:"html",cache:!0,data:{stage:a,round:t,lang_id:language_id},success:function(e){s.html(e)},complete:function(){s.find(".loading").remove()},beforeSend:function(){s.html('<div class="loading text-center"><img src="/images/ajax-loader-big.gif" alt="" /><br />'+lang.ajax_loading+"</div")}}),!1}function ranking_change(e,a,t){var s=(e=$(e)).parent().parent().find("table");e.parent().find(".label-success").removeClass("label-success").addClass("label-primary"),e.addClass("label-success").removeClass("label-primary"),ga("send","event","top_ranking","ajax",window.location.href),$.ajax({url:"/xml/top_ranking/",dataType:"html",cache:!0,data:{template_id:a,season_id:t,type_home:e.attr("data-home"),type:e.attr("data-type"),lang_id:language_id},success:function(e){s.html($(e).find(".table-responsive").html())},complete:function(){s.find(".loading").remove()},beforeSend:function(){s.html('<div class="loading text-center"><img src="/images/ajax-loader-big.gif" alt="" /><br />'+lang.ajax_loading+"</div")}})}function form_chart(e,a){e=$(e);var t='<div id="form-chart-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="form-chart" aria-hidden="true"><div class="modal-dialog" style="width:55%;"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button><h4 class="modal-title">'+lang.form_chart_title+' </h4></div><div class="modal-body"></div><div class="modal-footer"><button type="button" class="btn btn-default waves-effect btn-danger" data-dismiss="modal">'+lang.close+"</button></div></div></div></div>";$("body").append(t),$("#form-chart-modal").modal("show"),ga("send","event","form_chart","ajax",window.location.href),$.ajax({url:"/xml/form_chart/",dataType:"json",cache:!0,data:{id:a,type:e.attr("data-type"),team_id:e.attr("data-team-id"),lang_id:language_id},success:function(t){var s=[],i=[],n=0;$("#form-chart-modal .modal-body").append('<canvas id="form_chart"></canvas>'),$("#form-chart-modal .modal-title").append(t.participant.name),$.each(t.forms,function(e,a){s.push(get_date(a.game_date,"d-m-Y")),"win"==a.result?n=3:"draw"==a.result?n=1:"lost"==a.result&&(n=0),i.push(n)});var o={labels:s,datasets:[{fillColor:"rgba(93, 156, 236, 0.5)",strokeColor:"rgba(93, 156, 236, 1)",pointColor:"rgba(93, 156, 236, 1)",pointStrokeColor:"#fff",data:i}]};setTimeout(function(){$.ChartJs.respChart($("#form_chart"),"Line",o,{scaleShowLabels:!1,pointHitDetectionRadius:3,tooltipTemplate:function(e){var a=o.labels.indexOf(e.label);return t.forms[a].opponent.name+" - "+t.forms[a].result+" ("+t.forms[a].team_result+":"+t.forms[a].opponent_result+")"}})},500)},complete:function(){$("#form-chart-modal").find(".loading").remove()},beforeSend:function(){$("#form-chart-modal .modal-body").html('<div class="loading text-center"><img src="/images/ajax-loader-big.gif" alt="" /><br />'+lang.ajax_loading+"</div")}})}function get_date(e,a){return e}function to_game(e){e=$(e),window.location.href=e.parent().parent().find(".name a").attr("href")}function show_livescore_template(a,e,t){e=$(e);var s=$("#livescore_"+a);0<s.length?scroll_to(s):$.ajax({url:"/xml/livescore/",dataType:"html",cache:!1,data:{template_id:a,date:t},success:function(e){$("#livescore").append(e),scroll_to($("#livescore_"+a)),set_games()},complete:function(){$("#livescore").find(".loading").remove(),livescore_downloading=!1},beforeSend:function(){$("#livescore").append('<img class="loading" src="/images/ajax-loader.gif" alt="" />'),livescore_downloading=!0}})}function scroll_to(e){e&&(check_is_mobile_var?$("html, body").scrollTop(e.offset().top-40):$("html, body").animate({scrollTop:e.offset().top-40},200),e.addClass("active"),setTimeout(function(){e.removeClass("active")},2e3))}var livescore_page=2,livescore_downloading=!1,livescore_continue_downloading=!0;function show_more_livescore_games(e,a){e=$(e),$.ajax({url:"/xml/livescore/",dataType:"html",cache:!1,data:{page:livescore_page,date:a},success:function(e){$(e).filter(".league").length<10&&(livescore_continue_downloading=!1),$("#livescore").append(e),livescore_page++,set_games(),livescore_odd_propa_show(),document_height=$(document).height()},complete:function(){e.find(".loading").remove(),livescore_downloading=!1},beforeSend:function(){e.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />'),livescore_downloading=!0}})}function form_game(e){check_is_mobile_var||game($(e).attr("data-id"))}function sort_players(e,a,t){(e=$(e)).parent().find(".label-success").removeClass("label-success").addClass("label-primary"),e.addClass("label-success").removeClass("label-primary");var s="index",i=!1;if("goals"==a?(s="goals",i=!0):"cards"==a&&(s="cards",i=!0),i)var n=t.find(".player_box").sort(function(e,a){return parseInt($(a).attr("data-"+s))-parseInt($(e).attr("data-"+s))});else n=t.find(".player_box").sort(function(e,a){return parseInt($(e).attr("data-"+s))-parseInt($(a).attr("data-"+s))});n.each(function(e,a){$(a).parent().append(a)})}function go_to_h2h(e){e=$(e);var t=[];$('#h2h_form input[type="hidden"]').each(function(e,a){(a=$(a)).val()&&t.push(a.val())}),t.length<2?show_alert(lang.p_h2h_not_selected_team):go_to_h2h_page(t)}function show_types_by_template(e,a){if(!(0<(e=$(e)).find(".glyphicon-plus").length))return $('.type_game_item[data-template-id="'+a+'"]').remove(),void e.find(".glyphicon").addClass("glyphicon-plus").removeClass("glyphicon-minus");e.find(".glyphicon").removeClass("glyphicon-plus").addClass("glyphicon-minus");var t=$(e).parent().parent();$.ajax({url:"/xml/types_by_template/",dataType:"html",cache:!1,data:{template:a},success:function(e){$(e).insertAfter(t)}})}function show_box(e,a){e=$(e),a.hasClass("hide")?(a.removeClass("hide"),e.find(".to_show").addClass("hide"),e.find(".to_hide").removeClass("hide")):(a.addClass("hide"),e.find(".to_show").removeClass("hide"),e.find(".to_hide").addClass("hide"))}function show_types_stats(e){var a=(e=$(e)).parent().parent().parent().find('tr[data-id="'+e.attr("data-id")+'"]');a.hasClass("hide")?a.removeClass("hide"):a.addClass("hide")}function types_nav(e){"overall"==(e=$(e)).attr("data-id")?$("#more_types_box").show():$("#more_types_box").hide(),e.parent().find(".active_tab").removeClass("active_tab"),e.addClass("active_tab"),$.ajax({url:"/xml/types_nav/",dataType:"html",cache:!1,data:{id:e.attr("data-id")},success:function(e){$("#table_types").html(e)},complete:function(){e.find(".loading").remove()},beforeSend:function(){$("#table_types").html('<img class="loading" src="/images/ajax-loader.gif" alt="" />')}})}function more_types(e,a){(e=$(e)).find(".box_hide").hasClass("hide")||1==a?(e.find(".box_show").addClass("hide"),e.find(".box_hide").removeClass("hide"),$("#table_types .type_item").removeClass("hide")):(e.find(".box_show").removeClass("hide"),e.find(".box_hide").addClass("hide"),$("#table_types .type_item").each(function(e,a){19<e&&$(a).addClass("hide")}))}var last_alphabet=null;function alphabet_c(e){var a=(e=$(e)).find("ul:eq(0)");if(last_alphabet&&last_alphabet.html()!=a.html()&&(last_alphabet.attr("data-v",0),last_alphabet.css("display","none")),1==a.attr("data-v"))return a.attr("data-v",0),void a.css("display","none");a.css("display","block"),a.attr("data-v",1),last_alphabet=a}function show_alphabet(e){e=$(e),$(".alphabet").hasClass("show")?($(".alphabet").removeClass("show"),$(".alphabet_show_box").removeClass("show")):($(".alphabet").addClass("show"),$(".alphabet_show_box").addClass("show"),$(window).scrollTop(0))}function h2h_box_change(e){var a=$("#h2h_ca option:selected").val(),t=$("#h2h_cb option:selected").val();a&&t&&go_to_h2h_page([a,t])}function go_to_h2h_page(e){1<e.length&&(window.location.href="/h2h_redirect/?a="+e[0]+"&force=1&b="+e[1])}function history_back(){event.preventDefault(),history.back(1)}var click_ajax_obj=null;function click_ajax_confirm(e,a){return click_ajax_obj=$(e),$("#delete_modal").remove(),html='<div id="delete_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">',html+='<div class="modal-dialog">',html+='    <div class="modal-content">',html+='        <div class="modal-header header">',html+='            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>',html+='            <h3 class="modal-title">Confirm</h3>',html+="        </div>",html+='        <div class="modal-body">Do you want to delete this item?</div>',html+='        <div class="modal-footer">',html+='            <button class="yes btn btn-danger btn-lg" data-dismiss="modal" aria-hidden="true" style="margin-right:100px;">Yes</button> ',html+='            <button class="btn btn-success btn-lg" data-dismiss="modal" aria-hidden="true">No</button></div></div></div></div> ',$("body").append(html),$("#delete_modal").modal("show"),$("#delete_modal .yes").click(function(){a&&a()}),!1}function show_all_tournaments(e,a){e=$(e);var t=$(".tournaments_list li");1==a?(t.removeClass("hide"),e.parent().find(".show_but").addClass("hide"),e.parent().find(".btn:not(.show_but)").removeClass("hide")):(t.addClass("hide"),t.slice(0,6).removeClass("hide"),e.parent().find(".show_but").removeClass("hide"),e.parent().find(".btn:not(.show_but)").addClass("hide"))}function player_hover_stats(e,a){player_hover_template(function(){player_hover_stats_action(e,a)})}function player_hover_stats_action(a,e){var t=player_hover_template_html.clone();0<$('.player_hover_stats_box[data-id="'+a+'"]').length||$.ajax({url:"/xml/player_stats_hover/",dataType:"json",method:"GET",cache:!0,data:{id:a,lang_id:language_id},success:function(e){t.attr("data-id",a).attr("id","psh_"+a),t.find(".link").attr("href",e.player.link),t.find(".name").html(e.player.name),t.find(".image").attr("src",e.player.image),t.find(".age span").html(e.player.age),t.find(".goals span").html(e.player_stats.club.goals),t.find(".y_cards span").html(e.player_stats.club.y_cards),t.find(".r_cards span").html(e.player_stats.club.r_cards),t.find(".subs_out span").html(e.player_stats.club.subs_out),t.find(".sub_in span").html(e.player_stats.club.subs_in),e.player_stats.club.games&&t.find(".games").removeClass("hide").find("span").html(e.player_stats.club.games),e.player_stats.club.assists&&t.find(".assists").removeClass("hide").find("span").html(e.player_stats.club.assists),e.player_stats.club.pass_completed&&t.find(".pass").removeClass("hide").find("span").html(e.player_stats.club.pass_completed),e.player_stats.club.fauls&&t.find(".fauls").removeClass("hide").find("span").html(e.player_stats.club.fauls),e.player_stats.club.shots&&t.find(".shots").removeClass("hide").find("span").html(e.player_stats.club.shots),$("body").append(t)}})}var player_hover_template_html=null;function player_hover_template(a){player_hover_template_html?a():$.ajax({url:"/cache/player_stats_hover_template/",dataType:"html",cache:!0,data:{lang_id:language_id},success:function(e){player_hover_template_html=$(e),a()}})}function datepicker(e){var a=(e=$(e)).find("#datepicker");a.datepicker({monthNames:lang.date_months,monthNamesShort:lang.date_months_short,dayNamesMin:lang.days_list,firstDay:1,buttonText:lang.change_date,dateFormat:"dd_mm_yy",buttonImageOnly:!0,defaultDate:new Date(a.val()),onSelect:function(e,a){window.location.href=$(this).attr("data-url")+e+"/"}}).datepicker("show")}var top_menu_obj=null;function top_menu_click(e,a){if(1==(e=$(e)).attr("data-notification")){var t=parseInt($("#not_counter").html());0<t?$("#not_count_box").removeClass("hide").find("span span").html(t):$("#not_count_box").addClass("hide"),$("#not_counter").addClass("hide").html("0"),set_notification_last_id()}$(".top-box-menu").each(function(e,a){(a=$(a)).addClass("hide").parent().removeClass("active")});var s=$(a);!s.hasClass("hide")||top_menu_obj&&top_menu_obj.attr("class")==e.attr("class")?(top_menu_obj=null,1==e.attr("data-notification")&&e.find("li.new").removeClass("new")):(s.removeClass("hide"),e.addClass("active"),top_menu_obj=e)}function set_notification_last_id(){var e=$("#not_box .notifications-list ul li:eq(0)").attr("data-update");local_storage.set("notification_last_id",e)}function delete_favorite(e,a,t){var s=$(t);saveFavorite(e,a,$(t),function(){s.parent().parent().hide("slow",function(){$(this).remove(),$(".bell_"+e+"_"+a).removeClass("active").removeClass("active_favorite")})})}function set_page_favorites(){void 0!==favorites&&0<favorites.length&&$.each(favorites,function(e,a){var t="";"game"==a.t?t=".bell_game_"+a.i:"participant"==a.t?t=".bell_participant_"+a.i:"template"==a.t&&(t=".bell_template_"+a.i),$(t).addClass("active_favorite").addClass("active")})}var favorites=[];function getFavoritesOperation(){set_page_favorites();var t=[],s=[];if(favorites&&0<favorites.length){var i=!1;$.each(favorites,function(e,a){a&&("game"==a.t?86400<(new Date).getTime()/1e3-parseInt(a.u)&&(favorites.splice(e,1),i=!0):"template"==a.t?t.push(a):"participant"==a.t&&s.push(a))}),i&&local_storage.set("favorites",favorites),setFavoriteTeams(s),setCountryTemplates(t.reverse())}}function getFavorites(){if($.cookie("user")){var a=(new Date).getTime()/1e3,e=0;local_storage.get("favorites_updated")&&(e=parseInt(local_storage.get("favorites_updated"))),600<a-e?$.ajax({url:"/user/favorites/",dataType:"json",data:{},success:function(e){local_storage.set("favorites_updated",a),e&&e.favorites&&0<e.favorites.length&&(favorites=e.favorites,local_storage.set("favorites",favorites))}}):(favorites=local_storage.get("favorites"),getFavoritesOperation())}}function setFavoriteTeams(e){e.reverse(),e&&e.length&&($(".your_teams li").each(function(e,a){0<e&&$(a).remove()}),$.each(e,function(e,a){var t='<li class="text-left"><img src="/xml/team_image/'+a.i+'/" width="20" height="20" alt="" /> <a href="/xml/participant_redirect/?id='+a.i+"&lang_id="+language_id+'">'+a.n+"</a></li>";$(t).insertAfter($(".your_teams li:eq(0)"))}),$(".your_teams").removeClass("hide"))}function getNotification(){if($.cookie("user")){var e=$.cookie("user");$.ajax({url:"/notify/"+e[0]+e[1]+"/unot_"+e+".json?_t="+(new Date).getTime(),dataType:"json",cache:!0,data:{},success:function(e){notifications=e,notification_action()}})}}function notification_action(){var o=parseInt(local_storage.get("notification_last_id"));if(notifications&&0<notifications.length){var l=0,r=$("#not_box .notifications-list ul");r.html("");var d=0;$.each(notifications,function(e,a){if(a&&a.id){d=a.id;var t='<img src="/images/goal.png" alt="" />',s=a.home.substring(0,8)+" <strong>"+a.s+"</strong> "+a.away.substring(0,8);"status"==a.t?t='<i class="fa fa-comment-o" aria-hidden="true"></i>':"score"==a.t&&(s=lang.notification_score+" "+s);var i="";o<parseInt(a.u)&&(i=" new",l++);var n='<li onclick="game('+a.i+')" id="not_'+a.id+'" data-id="'+a.id+'" class="'+i+'" data-update="'+a.u+'"><div class="row"><div class="col-xs-2 i">'+t+'<div class="not_time_ago" data-u="'+a.u+'"></div></div>';n+='<div class="col-xs-10 n"><div class="b">'+s+"</div>",a.pn?n+='<div class="s">'+a.min+"' "+a.pn+"</div>":"status"==a.t&&(n+='<div class="s">'+lang.notification_status+" "+statuses_lang[a.st]+"</div>"),n+="</div></div></li>",r.append(n)}}),$("#not_box .notifications-list .alert").addClass("hide"),!$("#not_box").hasClass("hide")&&d?set_notification_last_id():0<l&&$("#not_counter").html(l).removeClass("hide"),notification_first=!0}else $("#not_box .notifications-list .alert").removeClass("hide")}function notification(e){$(e).addClass("active")}function saveFavorite(t,s,a,i){$.cookie("user_logged")?(a=$(a),$.ajax({url:"/user/saveFavorite/",dataType:"json",cache:!0,data:{type:t,id:s},beforeSend:function(){a.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />')},complete:function(){a.parent().find(".loading").remove()},success:function(e){e.error?show_alert(e.error):((favorites=local_storage.get("favorites"))||(favorites=[]),"insert"==e.ret?(a.removeClass("active_favorite").removeClass("active"),favorites.push({t:t,i:s,c:e.country_code,u:(new Date).getTime()/1e3,n:e.name})):"delete"==e.ret&&(a.removeClass("active_favorite").removeClass("active"),$(".favorite-team-box-"+s).hide("slow",function(){$(this).remove()}),favorites&&0<favorites.length&&$.each(favorites,function(e,a){a&&a.t==t&&a.i==s&&favorites.splice(e,1)})),local_storage.set("favorites",favorites),local_storage.set("favorites_updated",(new Date).getTime()/1e3),i&&i(),getFavoritesOperation())}}),"serviceWorker"in navigator&&push_notification.get_notification_permission_state().then(function(e){"granted"!=e.state&&"denied"!=e.state&&$.ajax({url:"/notifiation_info_modal/",dataType:"html",cache:!0,data:{},success:function(e){$("body").append(e),$("#notification-info-modal").modal("show")}})})):show_login_modal()}function saveOption(e,a,t){$.ajax({url:"//uids.fctablesmedia.com/uid.php",dataType:"json",cache:!1,data:{c:"save_option",name:e,value:a,key:$.cookie("_uid")},success:function(e){},complete:function(){t&&t.find(".loading").remove()},beforeSend:function(){t&&t.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />')}})}function notification_manage(e){e=$(e),$.cookie("user_logged")?$.ajax({url:"/xml/notification_manage/",dataType:"html",cache:!1,data:{lang_id:language_id},success:function(e){$("#notification-manage-modal").remove(),$("body").append(e),$("#notification-manage-modal").modal("show")},complete:function(){e.find(".loading").remove()},beforeSend:function(){e.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />')}}):show_login_modal()}function uir(){_i_u&&($.cookie("_uid",_i_u,{expires:3852,path:"/"}),getCountryTemplates())}function uid(){$.cookie("_uid")?(getFavorites(),getNotification(),favorites&&0==favorites.length&&getCountryTemplates()):$.getScript("https://cdnjs.cloudflare.com/ajax/libs/fingerprintjs2/1.4.1/fingerprint2.min.js",function(e,a,t){new Fingerprint2({swfPath:"/js/finger.swf",excludeUserAgent:!0}).get(function(e){$.getScript("//uids.fctablesmedia.com/uid.php?c=uid&finger="+e,function(e,a,t){})})})}function getCountryTemplates(){if(local_storage.get("country")){var e=session_storage.get("countries_template");e&&0<e.length?setCountryTemplates(e):$.ajax({url:"/cache/country/"+local_storage.get("country")+"/"+language_id+"/",dataType:"json",cache:!0,type:"GET",success:function(e){session_storage.set("countries_template",e.templates),setCountryTemplates(session_storage.get("countries_template"))}})}}function setCountryTemplates(e){var t=$("#popular_alphabet");$(".your_templates li").each(function(e,a){0<e&&$(a).remove()}),$(e).each(function(e,a){0==t.find('li[data-id="'+a.i+'"]').length&&$("#popular_alphabet").prepend('<li class="popular"><img src="/images/blank.gif" class="flag flag-'+a.c+'" width="16" height="16" /> <a href="/xml/tr/?id='+a.i+"&lang_id="+language_id+'">'+a.n+"</a></li>"),$('<li class="truncate"><img src="/images/blank.gif" class="flag flag-'+a.c+'" width="20" height="20" alt="" /> <a href="/xml/tr/?id='+a.i+"&lang_id="+language_id+'">'+a.n+"</a></li>").insertAfter(".your_templates li:eq(0)"),$(".your_templates").removeClass("hide")})}function timezone_check(){$(document).ready(function(){timezone()})}function set_date_from_timezone(e){if(console.log(4),null!==timezone_offset&&timezone_offset!=timezone_server){var a=".date_unix:not(.date_unix_edit)";e&&(a=".date_unix"),$(a).each(function(e,a){var t=!1;(a=$(a)).parent().parent().hasClass("today_game")&&(t=!0),a.html(date_format(a.attr("data-unixtime"),t,a.attr("data-hour"),a.attr("data-full-date"),a.attr("data-only-hour"))),a.attr("data-original-title",tmp_full_date).attr("title",tmp_full_date)}).addClass("date_unix_edit")}}var tmp_full_date=null;function date_format(e,a,t,s,i){e=parseInt(e);var n=new Date(1e3*e+6e4*(new Date).getTimezoneOffset()-timezone_offset);if(!today_date){var o=new Date;o.setTime(o.getTime()+6e4*o.getTimezoneOffset()-timezone_offset),today_date=o.getDate()+"-"+o.getMonth()+"-"+o.getFullYear()}var l=5*Math.round(n.getMinutes()/5);l<10&&(l="0"+l),60==l&&(l="00");var r=n.getHours();r<10&&(r="0"+r);var d=r+":"+l;"us"!=location_name&&"au"!=location_name||(d=formatAMPM(r,l));var c=n.getDate(),m=n.getMonth(),_=n.getFullYear(),h=c+"-"+m+"-"+_;if(tmp_full_date=c+" "+lang.date_months_short[m]+" "+_+" "+r+":"+l,s)return tmp_full_date;var f="";return t&&(f=" "+d),i?d:today_date==h?d:yesterday_date==h?lang.date_lang_yesterday+f:tomorrow_date==h?lang.date_lang_tomorrow+" "+d:c+" "+lang.date_months_short[m]+f}function formatAMPM(e,a,t){var s=12<=e?"pm":"am";return e=(e%=12)||12,a=a<10&&1==a.length?"0"+a:a,strTime=t?e+":"+a+":"+t+s:e+":"+a+s}function manual_timezone(e){timezone((e=$(e)).find("option:selected").val(),e.find("option:selected").attr("data-offset")),$("#settings-modal").modal("hide")}function get_timezone_offset(n,o){n?n*=-1e3:n=6e4*(new Date).getTimezoneOffset(),$.ajax({url:"/timezone_offset.php",dataType:"json",cache:!1,type:"GET",success:function(e){var a=new Date,t=1e3*parseInt(e.time_utc)-a.getTime(),s=n,i=local_storage;timezone_offset=s,session_storage.set("time_offset",s),i.set("client_deleyed",t),e.country&&local_storage.set("country",e.country),o&&o()}})}function timezone(e,a){if(e)get_timezone_offset(a,function(){set_start_dates(),set_date_from_timezone(!0)}),$.cookie("timezone",e,{expires:1852,path:"/"});else{(h=function(){"use strict";var _={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},i=function(e){var a=-e.getTimezoneOffset();return null!==a?a:0},s=function(e){for(var a=new Date(e,0,1,0,0,1,0).getTime(),t=new Date(e,12,31,23,59,59).getTime(),s=a,i=new Date(s).getTimezoneOffset(),n=null,o=null;s<t-864e5;){var l=new Date(s),r=l.getTimezoneOffset();r!==i&&(r<i&&(n=l),i<r&&(o=l),i=r),s+=864e5}return!(!n||!o)&&{s:d(n).getTime(),e:d(o).getTime()}},d=function e(a,t,s){void 0===t&&(t=_.DAY,s=_.HOUR);for(var i=new Date(a.getTime()-t).getTime(),n=a.getTime()+t,o=new Date(i).getTimezoneOffset(),l=i,r=null;l<n-s;){var d=new Date(l);if(d.getTimezoneOffset()!==o){r=d;break}l+=s}return t===_.DAY?e(r,_.HOUR,_.MINUTE):t===_.HOUR?e(r,_.MINUTE,_.SECOND):r},n=function(e){var a=function(){for(var e=[],a=0;a<h.olson.dst_rules.years.length;a++){var t=s(h.olson.dst_rules.years[a]);e.push(t)}return e}();return function(e){for(var a=0;a<e.length;a++)if(!1!==e[a])return!0;return!1}(a)?function(s,i){for(var e=function(e){for(var a=0,t=0;t<s.length;t++)if(e.rules[t]&&s[t]){if(!(s[t].s>=e.rules[t].s&&s[t].e<=e.rules[t].e)){a="N/A";break}if(a=0,a+=Math.abs(s[t].s-e.rules[t].s),a+=Math.abs(e.rules[t].e-s[t].e),_.MAX_SCORE<a){a="N/A";break}}return function(e,a,t,s){if("N/A"!==t)return t;if("Asia/Beirut"===a){if("Africa/Cairo"===s.name&&13983768e5===e[6].s&&14116788e5===e[6].e)return 0;if("Asia/Jerusalem"===s.name&&13959648e5===e[6].s&&14118588e5===e[6].e)return 0}else if("America/Santiago"===a){if("America/Asuncion"===s.name&&14124816e5===e[6].s&&1397358e6===e[6].e)return 0;if("America/Campo_Grande"===s.name&&14136912e5===e[6].s&&13925196e5===e[6].e)return 0}else if("America/Montevideo"===a){if("America/Sao_Paulo"===s.name&&14136876e5===e[6].s&&1392516e6===e[6].e)return 0}else if("Pacific/Auckland"===a&&"Pacific/Fiji"===s.name&&14142456e5===e[6].s&&13961016e5===e[6].e)return 0;return t}(s,i,a,e)},a={},t=h.olson.dst_rules.zones,n=t.length,o=_.AMBIGUITIES[i],l=0;l<n;l++){var r=t[l],d=e(t[l]);"N/A"!==d&&(a[r.name]=d)}for(var c in a)if(a.hasOwnProperty(c))for(var m=0;m<o.length;m++)if(o[m]===c)return c;return i}(a,e):e};return{determine:function(){var e,a,t,s=function(){var e,a;if("undefined"!=typeof Intl&&void 0!==Intl.DateTimeFormat&&void 0!==(e=Intl.DateTimeFormat())&&void 0!==e.resolvedOptions)return(a=e.resolvedOptions().timeZone)&&(-1<a.indexOf("/")||"UTC"===a)?a:void 0}();return s||(s=h.olson.timezones[(e=i(new Date(_.BASELINE_YEAR,0,2)),a=i(new Date(_.BASELINE_YEAR,5,2)),t=e-a,t<0?e+",1":0<t?a+",1,s":e+",0")],void 0!==_.AMBIGUITIES[s]&&(s=n(s))),{name:function(){return s}}}}}()).olson=h.olson||{},h.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},h.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},"undefined"!=typeof module&&void 0!==module.exports?module.exports=h:"undefined"!=typeof define&&null!==define&&null!=define.amd?define([],function(){return h}):window.jstz=h;e=jstz.determine().name();$.cookie("timezone",e,{expires:1,path:"/"}),get_timezone_offset(null,function(){set_start_dates(),set_date_from_timezone(!0)})}var h}function save_popular(a){a=$(a);$.ajax({url:"/admin_scores/popular_games_save/",dataType:"json",cache:!1,type:"POST",data:{id:a.parent().attr("data-id"),lang_id:language_id},success:function(e){a.removeClass("btn-danger").removeClass("btn-success"),2==e.ok?a.addClass("btn-success"):1==e.ok&&a.addClass("btn-danger")},complete:function(){a.find(".loading").remove()},beforeSend:function(){a.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />')}})}function mobile_search(e){e=$(e);var a=$(".app-search");a.hasClass("hidden-xs")?a.removeClass("hidden-xs"):a.addClass("hidden-xs")}function scroll_up(e){$("html, body").animate({scrollTop:0},200,function(){})}function timeSince(e){e=Math.abs(e);var a=Math.floor(e/31536e3);return 1<=a?a+" years":1<=(a=Math.floor(e/2592e3))?a+" months":1<=(a=Math.floor(e/86400))?a+" d":1<=(a=Math.floor(e/3600))?a+" h":1<=(a=Math.floor(e/60))?a+" m":Math.floor(e)+" s"}function tip_stats(e){e=$(e),$.ajax({url:"/tips_stats/",dataType:"html",cache:!1,type:"GET",data:{},success:function(e){$("#tip-stats-modal").remove(),$("body").append(e),$("#tip-stats-modal").modal("show")},complete:function(){e.find(".loading").remove()},beforeSend:function(){e.prepend('<div class=""><img class="loading" src="/images/ajax-loader.gif" alt="" /></a>')}})}function types_list_nav_width(){var t=60;$("#types-type-nav li").each(function(e,a){t+=$(a).outerWidth()}),$("#types-type-nav").css("width",t+"px")}function types_list_show(e,a){(e=$(e)).parent().find("li").removeClass("active"),e.addClass("active");var t=$("#types-main-box"),s=t.find(".type_item");s.removeClass("even_item"),"all"==a?s.removeClass("hide"):(s.addClass("hide"),t.find('.type_item[data-type-id="'+a+'"]').removeClass("hide")),t.find('.type_item:not(".hide"):even').addClass("even_item")}function how_to_usage(e,a){e=$(e),$.getScript("/js/bootstrap-tour.min.js",function(){"homepage"==a&&check_is_mobile_var&&(console.log("mobile"),$(".mobile-menu").trigger("click"),$(".alphabet_show_box").trigger("click")),$.ajax({url:"/xml/how_to_usage/",dataType:"json",cache:!1,type:"POST",data:{title:a},success:function(e){var a=new Tour({name:"tour_"+(new Date).getTime(),steps:e.steps,backdrop:!0,orphan:!0,onShown:function(e){var a=e.getStep(e.getCurrentStep());if(a&&a.show_after)switch(a.show_after){case"alphabet":console.log(4),$(".alphabet").css("z-index","9999")}},onHide:function(e){var a=e.getStep(e.getCurrentStep());if(a&&a.show_after)switch(a.show_after){case"alphabet":console.log(4),$(".alphabet").css("z-index","11")}}});a.init(),a.start()},complete:function(){e.find(".loading").remove()},beforeSend:function(){e.prepend('<div class=""><img class="loading" src="/images/ajax-loader-big.gif" alt="" /></a>')}})})}function dont_show_box(e){local_storage.set("dont_show_box_"+e.attr("id"),1),e.hide()}function check_dont_show_box(){$(".check_dont_show_box").each(function(e,a){a=$(a),local_storage.get("dont_show_box_"+a.attr("id"))&&a.addClass("hide")})}function countries_mini_menu(){$(".countries_mini_menu").each(function(){$(this).find("li").click(function(e){if("A"!=e.target.nodeName){e.preventDefault(),e.stopPropagation();var a=$(this),t=a.find("ul:eq(0)");0<t.length&&(t.hasClass("hide")?(t.removeClass("hide"),a.find(".glyphicon-chevron-up:eq(0)").removeClass("hide"),a.find(".glyphicon-chevron-down:eq(0)").addClass("hide")):(t.addClass("hide"),a.find(".glyphicon-chevron-up:eq(0)").addClass("hide"),a.find(".glyphicon-chevron-down:eq(0)").removeClass("hide")))}})})}function click_a(e){window.location.href=$(e).find("a:eq(0)").attr("href")}function show_full_table_list(e,a){$(a).find("tr").removeClass("hide"),$(e).addClass("hide")}var set_team_profit_stats_timeout=null;function set_team_profit_stats(){$(".tprofit-stat").unbind("mouseenter").unbind("mouseleave"),$(".tprofit-stats").hover(function(){var e=$(this);e.hasClass("active")?($("#team-profit-stats").remove(),set_team_profit_stats_timeout&&clearTimeout(set_team_profit_stats_timeout),e.removeClass("active")):(e.addClass("active"),set_team_profit_stats_timeout&&clearTimeout(set_team_profit_stats_timeout),set_team_profit_stats_timeout=setTimeout(function(){$("#team-profit-stats").remove(),$("body").prepend($('<div id="team-profit-stats"><div class="trigger"></div><div class="ajax"><img class="ajax-loader" src="/images/ajax-loader.gif" alt="" /></div><div class="data"></div></div>')),set_hover_box_in($("#team-profit-stats"),e),$.ajax({url:"/xml/team_profit_chart/",dataType:"html",cache:!0,minLength:1,data:{team_id:e.parent().attr("data-id"),type:e.attr("data-type"),stage_id:e.parent().attr("data-stage-id"),home_away:e.parent().parent().parent().parent().parent().find(".type_home.label-success").attr("data-home"),lang_id:language_id},success:function(e){$("#team-profit-stats .ajax-loader").remove(),$("#team-profit-stats .data").append(e)}})},600))})}function set_profit_sortable(){$("#profit-table-parent .sortt").each(function(e,a){(a=$(a)).attr("data-sort-name")&&a.on("click",function(){$(".continent, .type_home").attr("data-type2",a.attr("data-sort-name")),$(".continent.label-success").trigger("click"),$(".stats_table").html('<img src="/images/ajax-loader2.gif" alt="" />')})})}function stats_table(a,e){(a=$(a)).parent().find(".label-success").removeClass("label-success").addClass("label-primary"),a.addClass("label-success");var t=a.parent().parent().find(".type_home.label-success"),s=a.parent().parent().find(".continent.label-success");ga("send","event","stats_table","ajax",window.location.href),$.ajax({url:"/stats/"+e+"/xml/",dataType:"html",cache:!0,type:"GET",data:{continent:s.attr("data-cont"),home_away:t.attr("data-home"),type2:a.attr("data-type2")},success:function(e){a.parent().parent().find(".stats_table").html(e),a.parent().parent().find(".more_button").removeClass("hide"),"set_team_profit_stats"==a.attr("onsuccess")&&(set_team_profit_stats(),$(".profit-table-parent .loading").remove(),set_table(),set_profit_sortable(),$(".table-profit").table_head_sticky({top_padding:43,top_padding_mobile:35}))},complete:function(){a.find(".loading").remove()},beforeSend:function(){a.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />'),$(".tooltip").remove()}})}function stats_countries_show(e){(e=$(e)).hasClass("button_show")?(e.parent().find(".button_hide").removeClass("hide"),e.parent().find(".button_show").addClass("hide"),$(".countries_mini_menu").removeClass("hidden-xs")):(e.parent().find(".button_hide").addClass("hide"),e.parent().find(".button_show").removeClass("hide"),$(".countries_mini_menu").addClass("hidden-xs"))}function team_form_box(e,a,t,s){var i=(e=$(e)).parent().parent().parent().find(".form-box");$.ajax({url:"/xml/form_box/",dataType:"html",cache:!0,data:{team_id:a,type:s,lang_id:language_id,stages:t},complete:function(){i.find(".loading").remove()},beforeSend:function(){i.html('<img class="loading" src="/images/ajax-loader3.gif" alt="" />')},success:function(e){i.html(e),set_tooltip()}})}function team_stats_box(e,a,t,s){var i=(e=$(e)).parent().parent().find(".team_stats_item");if(e.attr("data-last-6-matches")){var n=e.parent().parent().find(".team_stats_forms");$.ajax({url:"/xml/team_stats_box_last_6/",dataType:"html",cache:!0,data:{team_id:a,type:s,lang_id:language_id},complete:function(){n.find(".loading").remove()},beforeSend:function(){n.html('<img class="loading" src="/images/ajax-loader3.gif" alt="" />')},success:function(e){n.html(e)}})}e.parent().find(".label-success").removeClass("label-success").addClass("label-primary"),e.removeClass("label-primary").addClass("label-success"),ga("send","event","team_stats_box","ajax",window.location.href),$.ajax({url:"/xml/team_stats_box/",dataType:"html",cache:!0,data:{team_id:a,type:s,stages:t,lang_id:language_id},complete:function(){i.find(".loading").remove()},beforeSend:function(){i.html('<img class="loading" src="/images/ajax-loader3.gif" alt="" />')},success:function(e){i.html(e)}}),team_form_box(e,a,t,s)}function checkVisible(e){if(e){var a=e.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(a.bottom<0||0<=a.top-t)}}function h2h_series_games(e){e=$(e),$("#games_modal").remove(),html='<div id="games_modal" class="modal fade" tabindex="999" role="dialog" aria-hidden="true">',html+='<div class="modal-dialog">',html+='    <div class="modal-content">',html+='        <div class="modal-header header">',html+='            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>',html+='            <h3 class="modal-title">Games list</h3>',html+="        </div>",html+='        <div class="modal-body"></div>',html+='        <div class="modal-footer">',html+='            <button class="btn btn-warning btn-sm" onclick="$(\'#games_modal\').modal(\'hide\')" aria-hidden="true">'+lang.close_window+"</button></div></div></div></div> ",$("body").append(html),$("#games_modal").modal("show"),$.ajax({url:"/xml/games_list/",dataType:"html",cache:!0,data:{games:JSON.parse(e.attr("data-games")),lang_id:language_id},beforeSend:function(){$("#games_modal .modal-body").html('<img src="/images/ajax-loader.gif" class="ajax-loader" />')},success:function(e){$("#games_modal .modal-body").html(e)}})}var check_h2h_download_checking=!0,disabled_force_download=0;function check_h2h_download(e,a){var t=document.getElementById("load_more_data"),s=$(".download_step"),i=0,n=null;function o(){scroll_download=!0,n=setInterval(function(){l()},2e3),l(),check_h2h_download_checking=!1}function l(){i>=s.length&&(clearInterval(n),scroll_download=!1),console.log("download "+i),s.eq(i).trigger("click"),i++}window.onscroll=function(){check_h2h_download_checking&&0<s.length&&checkVisible(t)&&o()},e&&!disabled_force_download&&(o(),a&&(disabled_force_download=1))}function drawDoughnut(e,a,o){Chart.types.Doughnut.extend({name:"DoughnutTextInside",showTooltip:function(){this.chart.ctx.save(),Chart.types.Doughnut.prototype.showTooltip.apply(this,arguments),this.chart.ctx.restore()},draw:function(){if(o){Chart.types.Doughnut.prototype.draw.apply(this,arguments);var e=this.chart.width,a=this.chart.height,t=(a/114).toFixed(2);this.chart.ctx.font=t+"em Verdana",this.chart.ctx.textBaseline="middle";var s=o,i=Math.round((e-this.chart.ctx.measureText(s).width)/2),n=a/2;this.chart.ctx.fillText(s,i,n)}}});new Chart(a[0].getContext("2d")).DoughnutTextInside(e,{responsive:!0})}function player_chart_stats(a){(a=$(a)).parent().find(".label").removeClass("label-success").addClass("label-primary"),a.addClass("label-success").removeClass("label-primary");var e=$(".player-chart-template .label-success");$(".player-chart-home-away .label-success");$.ajax({url:"/xml/player_chart/",dataType:"html",cache:!1,type:"GET",data:{id:a.attr("data-id"),template:e.attr("data-template"),seasons:e.attr("data-season"),lang_id:language_id},success:function(e){$("#player-stats-"+a.attr("data-id")).html(e)},complete:function(){a.find(".loading").remove()},beforeSend:function(){a.prepend('<img class="loading" src="/images/ajax-loader.gif" alt="" />'),$("#player-stats-"+a.attr("data-id")).html('<div class="text-center"><img class="loading" src="/images/ajax-loader2.gif" alt="" /></div>')}})}function change_tips_stats_month(e,a){(e=$(e)).parent().find(".tab").removeClass("active_tab"),e.addClass("active_tab"),$.ajax({url:"/xml/tips_stats_box/",dataType:"html",cache:!1,type:"GET",data:{date_from:a},success:function(e){$("#tips_stats_box").html(e)},complete:function(){$("#tips_stats_box").find(".loading").remove()},beforeSend:function(){$("#tips_stats_box").html('<div class="loading text-center"><img src="/images/ajax-loader-big.gif" alt="" /></div>')}})}function search_article_image(e){var a=(e=$(e)).parent().find('input[name="search"]');a.val().length<3?show_alert("Image search min 3 characters"):$.ajax({url:"/xml/search_image/",dataType:"html",cache:!1,type:"POST",data:{search:a.val(),lang_id:language_id},success:function(e){$("#images-list").html(e)},beforeSend:function(){$("#images-list").html('<img src="/images/ajax-loader.gif" class="ajax-loader" />')},complete:function(){}})}function live_game_link(e){return!window.is_mobile||(event.preventDefault(),event.stopPropagation(),e=$(e),window.location=e.find(".score a").attr("href"),!1)}function generate_tags_string(){return tags_text="",$("#upload_image_form .tags").parent().find(".tag").each(function(e,a){0<e&&(tags_text+=","),tags_text+=$(a).find("span").text()}),tags_text}function set_hover_box_in(e,a){var t=a.offset(),s=a.outerWidth(!0),i=a.outerHeight(!0),n=e.outerWidth(!0),o=(e.outerHeight(!0),$(window).width()),l=t.left+s/2,r=l-n/2,d=t.top+i+5;o<r+n?r-=n-o+r:r<0&&(r=0),e.css("top",d+"px").css("left",r+"px"),e.find(".trigger").css("left",l-r+"px")}function user_menu(e){$.cookie("user_logged")?(refresh_user_stack(),top_menu_click(this,"#user_menu_login_box")):top_menu_click(this,"#user_menu_box")}function refresh_user_stack(){$.ajax({url:"/tipster/user_cash/",dataType:"json",data:{},success:function(e){$("#user-stack-top").html(e.cash+" FC")}})}function convert_odd(){switch(local_storage.get("odds_format")){case"eu":$(".oddcon").each(function(e,a){(a=$(a)).text(a.attr("data-o"))});break;case"uk":$(".oddcon").each(function(e,a){(a=$(a)).text(a.attr("data-of"))});break;case"us":$(".oddcon").each(function(e,a){a=$(a);var t=parseFloat(a.attr("data-o"));a.text(dec2US(t))});break;case"hk":$(".oddcon").each(function(e,a){a=$(a);var t=parseFloat(a.attr("data-o"));a.text(dec2HK(t))});break;case"in":$(".oddcon").each(function(e,a){a=$(a);var t=parseFloat(a.attr("data-o"));a.text(dec2Indo(t))})}}function dec2US(e){return e?(0<(a=(e=parseFloat(e))<=1||NaN==e?NaN:e<2?-100/(e-1):100*(e-1))?"+":"")+Math.round(1*a)/1:"-";var a}function dec2frac(e){if(!e)return"-";e=parseFloat(e-1);var a=Math.round(e)+"/1",t=Math.round(e),s=Math.abs(t-e);for(i=2;i<=200;i++){var n=Math.round(e*i)/i,o=Math.abs(n-e);if(o<s){if(a=Math.round(e*i)+"/"+i,t=n,0==o)break;s=o}}return a}function dec2HK(e){return e?((e=parseFloat(e))<=1||NaN==e?NaN:e-1).toFixed(2):"-"}function dec2Indo(e){return e?((e=parseFloat(e))<=1||NaN==e?NaN:2<=e?e-1:1/(1-e)).toFixed(2):"-"}function dec2Malay(e){return e?((e=parseFloat(e))<=1||NaN==e?NaN:e<=2?e-1:1/(1-e)).toFixed(2):"-"}function livescore_odd_propa(e){var a="odd";(e=$(e)).is(":checked")||(a="propability"),local_storage.set("livescore-odd-type",a),livescore_odd_propa_show(!0)}function livescore_odd_propa_show(e){var a=":not(.not_oddcon)";e&&("odd"==local_storage.get("livescore-odd-type")&&$(".livescore_body .oddcon").each(function(e,a){(a=$(a)).text(a.attr("data-o"))}),a=""),"propability"==local_storage.get("livescore-odd-type")&&$(".livescore_body .oddcon"+a).each(function(e,a){(a=$(a)).text(a.attr("data-p")+"%")}).addClass("not_oddcon")}function predictions_submit(e,a){e=$(e),$.ajax({url:"/xml/predictions_email_submit/",dataType:"json",cache:!1,method:"GET",data:{remove_from_mailing:a,email:e.parent().parent().parent().find(".predictions_mailing_email").val()},complete:function(){e.find(".ajax-loading").remove()},beforeSend:function(){e.prepend('<img class="ajax-loading" src="/images/ajax-loader.gif" alt="" />')},success:function(e){e.error?show_alert(e.error,"Error"):(e.info&&show_alert(e.info,"Info"),e.remove_from_mailing&&($(".predictions_mailing .btn-success").removeClass("hide"),$(".predictions_mailing .btn-danger").addClass("hide")),e.ok_finished&&(modal_mailing_close(),$(".predictions_mailing .btn-success").addClass("hide"),$(".predictions_mailing .btn-danger").removeClass("hide")))}})}function modal_mailing_close(){$("#modal_mailing").modal("hide"),local_storage.set("modal_mailing_hide",(new Date).getTime())}function check_predictions_mailing(a){local_storage.get("push_predictions")||a&&local_storage.get("modal_mailing_hide")&&2592e5<(new Date).getTime()-parseInt(local_storage.get("modal_mailing_hide"))||$.ajax({url:"/xml/user_predictions_email/",dataType:"json",cache:!1,method:"GET",data:{},complete:function(){},beforeSend:function(){},success:function(e){if(e.data&&e.data.user_email&&$(".predictions_mailing_email").val(e.data.user_email),a){if(e&&e.data&&e.data.mailing_active)return;(!local_storage.get("modal_mailing_hide")||2592e5<(new Date).getTime()-parseInt(local_storage.get("modal_mailing_hide")))&&$.ajax({url:"/predictions_mailing_modal/",dataType:"html",cache:!1,method:"GET",data:{},success:function(e){$("#modal_mailing .modal-body").html(e),$("#modal_mailing").modal("show")}})}else e&&e.data&&e.data.mailing_active&&($(".predictions_mailing .btn-success").addClass("hide"),$(".predictions_mailing .btn-danger").removeClass("hide"))}})}function find_team_player(){$(".find_team, .find_player").each(function(e,a){var r=$(a);r.autocomplete({minLength:1,html:!0,source:function(e,a){$.ajax({url:"/xml/search/",dataType:"json",cache:!0,minLength:1,data:{query:e.term,type:r.attr("data-type"),limit:r.attr("data-limit"),lang_id:language_id},success:function(e){var o=[];e.templates&&0<e.templates.length&&$.each(e.templates,function(e,a){var t='<div class="autocomplete_item"><div class="ico"><img src="'+a.image+'" /></div>';t+='<div class="value"><div clas="name">'+stripslashes(a.name)+'</div><div class="sub_name">'+lang.type_template+" "+a.cn+" "+a.tc+"</div></div></div>",o[o.length]={label:t,value:a.name,type:"template",link:a.link,id:a.id}}),e.matches&&0<e.matches.length&&$.each(e.matches,function(e,a){var t='<div class="autocomplete_item"><div class="ico"></div>';t+='<div class="value"><div clas="name">'+stripslashes(a.teams[0].participant_name)+" - "+stripslashes(a.teams[1].participant_name)+'</div><div class="sub_name">'+a.template_name+" "+a.game_date_str+" </div></div></div>",o[o.length]={label:t,value:stripslashes(a.teams[0].participant_name)+" - "+stripslashes(a.teams[1].participant_name),type:"match",id:a.id}}),e.participants&&0<e.participants.length&&$.each(e.participants,function(e,a){var t="",s="";if(a.image&&(s='<img src="'+a.image.manual_size+'30x30" />'),1==a.type_id){a.template&&(t=a.template.name);var i='<div class="autocomplete_item"><div class="ico">'+s+'</div><div class="value"><div clas="name">'+stripslashes(a.name)+'</div><div class="sub_name">'+lang.type_team+" "+t+"</div></div></div>"}else if(2==a.type_id){a.team&&(t=a.team.name);i='<div class="autocomplete_item"><div class="ico">'+s+'</div><div class="value"><div clas="name">'+stripslashes(a.name)+'</div><div class="sub_name">'+lang.type_player+" "+t+"</div></div></div>"}var n=a.name;o[o.length]={label:i,value:n,type:a.type,id:a.id,next_game:a.next_game}}),e.participants&&0<e.participants.length||e.matches&&0<e.matches.length||(o[o.length]={label:"No found",value:"",id:0}),a(o)}})},open:function(e,a){$(".ui-autocomplete .ui-menu-item:odd").css("background","#f6f6f6")},select:function(e,a){if(0<a.item.id){if("undefined"!=typeof article_panel){$('input[name="article_item_id"]').val(a.item.id),article_step3(),$(".connect-info").removeClass("hide");var t="Article connect with ",s=$('input[name="article_type"]');return void(0<s.length&&(t+=s.val()+" "+a.item.id,$(".connect-info").html(t)))}if(r.parent().find('input[type="hidden"]').val(a.item.id),r.attr("data-h2h")){var i="";if($(".h2h_tip_team").remove(),a.item.next_game){var n="";1<a.item.next_game.teams.length&&(n=a.item.next_game.teams[0].participant_name+"-"+a.item.next_game.teams[1].participant_name),i='<div class="h2h_tip_team" style="cursor:pointer;margin-top: 6px;" onclick="window.location.href=\'/h2h_redirect/?a='+a.item.next_game.teams[0].participant_id+"&b="+a.item.next_game.teams[1].participant_id+"&force=1';\">"+lang.h2h_team_next_game_tip.replace("[game_name]",n)+"</div>"}i&&r.parent().append(i);var o=r.parent().parent().parent(),l=0;$.each(o.find('input[type="hidden"]'),function(e,a){""!=$(a).val()&&l++}),2==l&&(1==r.attr("data-h2h-players")?go_to_h2h_players(r.find(".btn")):go_to_h2h(r.find(".btn")))}r.attr("data-link")&&(a.item.link?window.location.href=a.item.link:window.location.href="/xml/participant_redirect/?id="+a.item.id+"&lang_id="+language_id)}}})})}function websocket_new_connect(){(websocket=new WebSocket("wss://livesocket.fctables.com:9030")).onopen=function(){websocket_connect=1},websocket.onclose=function(){websocket_connect=0,websocket.close()},websocket.onerror=function(e){scores(1)},websocket.onmessage=function(e){if(e.data){var a=JSON.parse(e.data);switch(a.type){case"livescore":live_obj=$("#live"),a&&a.data&&a.data.games&&refresh_scores(a.data)}}}}function refresh_scores(e){var p=$(".live-game").length;last_scores_updated=(new Date).getTime(),$.each(e.games,function(e,i){if(p){var a=$("#lg_"+i.id);if(0<a.length){a.attr("data-last-update",(new Date).getUTCMilliseconds()),a.attr("data-status",i.st),a.attr("class","live-game"),a.addClass("status_t_"+i.st),a.addClass("status_"+i.sti),a.find(".min .m").html(i.m+"'"),a.find(".min .status").html(i.sc);var t=a.find(".score strong").text().split("-");if(1<t.length){var s=a.find(".home"),n=a.find(".away");parseInt(i.rh)>parseInt(t[0])&&(s.addClass("change"),remove_change_sec(s)),parseInt(i.ra)>parseInt(t[1])&&(n.addClass("change"),remove_change_sec(n))}"not_started"!=i.st&&a.find(".score strong").html(i.rh+"<i>-</i>"+i.ra),i.rhth&&i.rhta&&0<=i.rhth&&0<=i.rhta&&a.find(".ht").html(i.rhth+"<i>-</i>"+i.rhta),a.find(".rc").remove(),i.rch&&$('<div class="rc" title="Red card" data-toggle="tooltip">'+i.rch+"</div>").insertBefore(a.find(".name .home a")),i.rca&&a.find(".name .away a").append('<div class="rc" title="Red card" data-toggle="tooltip">'+i.rca+"</div>")}}var o=$("#game_"+i.id),l=$("#actual_game_"+i.id),r=$(".tlg_"+i.id),d=i.rh+"-"+i.ra;if(0<l.length&&(l.removeClass("live"),"started"==i.st&&l.addClass("live"),l.find(".status").html(i.s),l.find(".score a").html(d),l.find(".min span").html(i.m)),0<r.length&&("started"!=i.st?r.remove():r.attr("data-last-score")!=d&&r.each(function(e,a){a=$(a);var t=2;i.rh>i.ra?t=1:i.rh<i.ra&&(t=3);var s=a.find("div");s.removeClass("btn-danger").removeClass("btn-success").removeClass("btn-warning"),"home"==a.attr("data-t")&&1==t||"away"==a.attr("data-t")&&3==t?s.addClass("btn-success"):2!=t?s.addClass("btn-danger"):s.addClass("btn-warning"),a.find("div").html(d),a.attr("data-last-score",d)})),0<o.length&&"not_started"!=i.st){o.removeClass("live").removeClass("status_started").removeClass("status_finished").removeClass("status_not_started").removeClass("status_postponed").removeClass("status_abandoned"),o.addClass("status_"+i.st),"started"==i.st&&o.addClass("live");var c=o.find(".status_name"),m=o.find(".status_code"),_=c.html();m.attr("title",i.s).attr("data-original-title",i.s).html(i.sc),c.html(i.s),_!=i.s&&(m.addClass("change"),c.addClass("change"),remove_change_sec(m),remove_change_sec(c)),o.find(".min span").html(i.m);var h=o.find(".score span"),f=[parseInt(h.eq(0).html()),parseInt(h.eq(2).html())];s=o.find(".name .home"),n=o.find(".name .away");2<h.length&&(h.eq(0).html(i.rh),h.eq(2).html(i.ra),i.rh>f[0]&&(s.addClass("change"),remove_change_sec(s)),i.ra>f[1]&&(n.addClass("change"),remove_change_sec(n))),o.find(".name .rc").remove();var u='<div class="rc" title="'+lang.red_cards+'" data-toggle="tooltip"></div>';0<i.rch&&s.prepend(u).find(".rc").html(i.rch),0<i.rca&&n.append(u).find(".rc").html(i.rca),s.removeClass("win"),n.removeClass("win"),1==i.w?s.addClass("win"):3==i.w&&n.addClass("win")}})}